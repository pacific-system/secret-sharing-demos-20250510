[2025-05-14 13:58:35] ====== 準同型暗号マスキング方式 完全検証テスト 開始 ======
[2025-05-14 13:58:35] ====== 準同型暗号マスキング方式 暗号化テスト ======
[2025-05-14 13:58:35] テストファイルの読み込み: common/true-false-text/t.text, common/true-false-text/f.text
[2025-05-14 13:58:35] テキストファイル読み込み成功:
[2025-05-14 13:58:35]   真テキストサイズ: 300バイト
[2025-05-14 13:58:35]   偽テキストサイズ: 300バイト
[2025-05-14 13:58:35] 真テキスト内容:
[2025-05-14 13:58:35] 　　｡:🌸・｡･ﾟ🌸*.ﾟ｡
　･🌸.🌸.🌼🌸｡:*･.🌼
　.ﾟ🌼.｡;｡🌸.:*🌸.ﾟ｡🌸｡
　:*｡_🌸🌼｡_🌸*･_ﾟ🌸
　　＼ξ　＼　ζ／
　　　∧🎀∧＼ξ
　　（＊･ω･)／
　　c/　つ∀o
　　.しー-Ｊおめでとう～🎉☠️
[2025-05-14 13:58:35] 偽テキスト内容:
[2025-05-14 13:58:35] 　　｡:🌸・｡･ﾟ🌸*.ﾟ｡
　･🌸.🌸.🌼🌸｡:*･.🌼
　.ﾟ🌼.｡;｡🌸.:*🌸.ﾟ｡🌸｡
　:*｡_🌸🌼｡_🌸*･_ﾟ🌸
　　＼ξ　＼　ζ／
　　　∧🎀∧＼ξ
　　（＊･ω･)／
　　c/　つ∀o
　　.しー-Ｊおめでとう～☠️🎉
[2025-05-14 13:58:35] 準同型暗号システムを初期化中...
[2025-05-14 13:58:35] 公開鍵生成完了: n=103622230052315821767223357692309203017099856467572260979093906032013064114500642905466580132588546439494200252465077125159388804018550739039100707110287950383550692536933140635402414978928882459282084628964503466007126791833063989797380218951469640917005275172303179281344146875728126763702126630028215446561, g=103622230052315821767223357692309203017099856467572260979093906032013064114500642905466580132588546439494200252465077125159388804018550739039100707110287950383550692536933140635402414978928882459282084628964503466007126791833063989797380218951469640917005275172303179281344146875728126763702126630028215446562
[2025-05-14 13:58:35] 真偽判別用の鍵を生成中...
[2025-05-14 13:58:35] 鍵生成完了:
[2025-05-14 13:58:35]   真鍵: e2e2e526864898d7bb9953748a04da8756d72173d020c45a5b742eccb0b72583
[2025-05-14 13:58:35]   偽鍵: 4b7fc3a8f4039ae77872f307bf086b22b594df6d6bb95812f4224cc82f2e1cba
[2025-05-14 13:58:35] データを暗号化中...
[2025-05-14 13:58:35] 暗号化完了:
[2025-05-14 13:58:35]   真チャンク数: 5
[2025-05-14 13:58:35]   偽チャンク数: 5
[2025-05-14 13:58:35]   暗号化チャンク数: 5/5
[2025-05-14 13:58:35] マスク関数を生成中...
[2025-05-14 13:58:35] マスク関数を適用して真偽チャンクを変換中...
[2025-05-14 13:58:35] 暗号文を識別不能な形式に変換中...
[2025-05-14 13:58:35] 暗号化データを保存中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 13:58:35] 暗号化データを保存しました: サイズ=7688バイト
[2025-05-14 13:58:35] 元ファイルのハッシュを保存しました: test_output/secure_homomorphic_sha256.txt
[2025-05-14 13:58:35] ====== 準同型暗号マスキング方式 復号テスト (true鍵) ======
[2025-05-14 13:58:35] 暗号化ファイルを読み込み中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 13:58:35] 暗号化ファイル読み込み完了
[2025-05-14 13:58:35] 鍵解析結果: true鍵 (期待値: true鍵)
[2025-05-14 13:58:35] true鍵用のデータを抽出中...
[2025-05-14 13:58:35] マスクを除去中...
[2025-05-14 13:58:35] 復号中...
[2025-05-14 13:58:35] 復号データを保存中: test_output/secure_homomorphic_true.text
[2025-05-14 13:58:35] 復号データを保存しました: サイズ=300バイト
[2025-05-14 13:58:35] 復号データはテキストではありません（バイナリデータ）
[2025-05-14 13:58:35] ====== 準同型暗号マスキング方式 復号テスト (false鍵) ======
[2025-05-14 13:58:35] 暗号化ファイルを読み込み中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 13:58:35] 暗号化ファイル読み込み完了
[2025-05-14 13:58:35] 鍵解析結果: true鍵 (期待値: false鍵)
[2025-05-14 13:58:35] 警告: 検出された鍵タイプが期待値と一致しません
[2025-05-14 13:58:35] true鍵用のデータを抽出中...
[2025-05-14 13:58:35] マスクを除去中...
[2025-05-14 13:58:36] 復号中...
[2025-05-14 13:58:36] 復号データを保存中: test_output/secure_homomorphic_false.text
[2025-05-14 13:58:36] 復号データを保存しました: サイズ=300バイト
[2025-05-14 13:58:36] 復号データはテキストではありません（バイナリデータ）
[2025-05-14 13:58:36] 検証結果レポートを作成中...
[2025-05-14 13:58:36] 
====== 準同型暗号マスキング方式 検証結果 ======
[2025-05-14 13:58:36] 元の真ファイルハッシュ: 088f5b0bbab0b70a3b992763d4138ad25630fff6853eab15e63602a513139d6a
[2025-05-14 13:58:36] 復号された真ファイルハッシュ: 95b94b8fd42c482f1d579d5c3001c26fd26f8873c1561bd27aa0a98d04b1a041
[2025-05-14 13:58:36] 真ファイル一致: 失敗 ❌
[2025-05-14 13:58:36] 元の偽ファイルハッシュ: b55cd667cee3c8d3b7ba07181912dd974f62b5b9a13a35198a052dcb960bccba
[2025-05-14 13:58:36] 復号された偽ファイルハッシュ: 95b94b8fd42c482f1d579d5c3001c26fd26f8873c1561bd27aa0a98d04b1a041
[2025-05-14 13:58:36] 偽ファイル一致: 失敗 ❌
[2025-05-14 13:58:36] 検証結果グラフを保存しました: test_output/secure_homomorphic_verification.png
[2025-05-14 13:58:36] 
❌ 検証失敗: 暗号化または復号化に問題があります。
[2025-05-14 13:58:36]   - 真の鍵による復号で元の真ファイルが得られませんでした。
[2025-05-14 13:58:36]   - 偽の鍵による復号で元の偽ファイルが得られませんでした。
[2025-05-14 13:58:36] 
準同型暗号マスキング方式 完全検証テスト 完了！処理時間: 0.81秒
[2025-05-14 13:58:36] 詳細ログ: test_output/secure_homomorphic_log_20250514_135835.txt
