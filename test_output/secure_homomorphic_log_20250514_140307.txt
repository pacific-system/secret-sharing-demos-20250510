[2025-05-14 14:03:07] ====== 準同型暗号マスキング方式 完全検証テスト 開始 ======
[2025-05-14 14:03:07] ====== 準同型暗号マスキング方式 暗号化テスト ======
[2025-05-14 14:03:07] テストファイルの読み込み: common/true-false-text/t.text, common/true-false-text/f.text
[2025-05-14 14:03:07] テキストファイル読み込み成功:
[2025-05-14 14:03:07]   真テキストサイズ: 300バイト
[2025-05-14 14:03:07]   偽テキストサイズ: 300バイト
[2025-05-14 14:03:07] 真テキスト内容:
[2025-05-14 14:03:07] 　　｡:🌸・｡･ﾟ🌸*.ﾟ｡
　･🌸.🌸.🌼🌸｡:*･.🌼
　.ﾟ🌼.｡;｡🌸.:*🌸.ﾟ｡🌸｡
　:*｡_🌸🌼｡_🌸*･_ﾟ🌸
　　＼ξ　＼　ζ／
　　　∧🎀∧＼ξ
　　（＊･ω･)／
　　c/　つ∀o
　　.しー-Ｊおめでとう～🎉☠️
[2025-05-14 14:03:07] 偽テキスト内容:
[2025-05-14 14:03:07] 　　｡:🌸・｡･ﾟ🌸*.ﾟ｡
　･🌸.🌸.🌼🌸｡:*･.🌼
　.ﾟ🌼.｡;｡🌸.:*🌸.ﾟ｡🌸｡
　:*｡_🌸🌼｡_🌸*･_ﾟ🌸
　　＼ξ　＼　ζ／
　　　∧🎀∧＼ξ
　　（＊･ω･)／
　　c/　つ∀o
　　.しー-Ｊおめでとう～☠️🎉
[2025-05-14 14:03:07] 準同型暗号システムを初期化中...
[2025-05-14 14:03:07] 公開鍵生成完了: n=112202402903476905572201397754602925535508243425052257909334894624003036742463216459214287912288235979897609864219738310590446957692346112271929280059991005156201156453096955063258894822089823384348153695513603752596755773588894336773941592869188526811654624510953409714068572899102884666120309782054184637257, g=112202402903476905572201397754602925535508243425052257909334894624003036742463216459214287912288235979897609864219738310590446957692346112271929280059991005156201156453096955063258894822089823384348153695513603752596755773588894336773941592869188526811654624510953409714068572899102884666120309782054184637258
[2025-05-14 14:03:07] 真偽判別用の鍵を生成中...
[2025-05-14 14:03:07] 鍵生成完了:
[2025-05-14 14:03:07]   真鍵: 88e70daf6ccbdbab15ac1c12e50b25f60e2f3f82a25e81a457bdec35fd0ce695
[2025-05-14 14:03:07]   偽鍵: a73034d232a5fbf586dcb361673b50c006b8159489c2e71cc029478c2a64bab3
[2025-05-14 14:03:07] データを前処理中...
[2025-05-14 14:03:07] [DEBUG] 暗号化前: データタイプ=text, サイズ=300バイト
[2025-05-14 14:03:07] [DEBUG] テキストマーカー付加: 305バイト
[2025-05-14 14:03:07] [DEBUG] テキストマーカー付加: 305バイト
[2025-05-14 14:03:07] 前処理完了:
[2025-05-14 14:03:07]   真データタイプ: text, サイズ: 305バイト
[2025-05-14 14:03:07]   偽データタイプ: text, サイズ: 305バイト
[2025-05-14 14:03:07] チャンク分割完了:
[2025-05-14 14:03:07]   真チャンク数: 5
[2025-05-14 14:03:07]   偽チャンク数: 5
[2025-05-14 14:03:07] 暗号化完了:
[2025-05-14 14:03:07]   真暗号化チャンク数: 5
[2025-05-14 14:03:07]   偽暗号化チャンク数: 5
[2025-05-14 14:03:07] マスク関数を生成中...
[2025-05-14 14:03:07] マスク関数を適用して真偽チャンクを変換中...
[2025-05-14 14:03:07] 暗号文を識別不能な形式に変換中...
[2025-05-14 14:03:07] 暗号化データを保存中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 14:03:07] 暗号化データを保存しました: サイズ=7804バイト
[2025-05-14 14:03:07] 元ファイルのハッシュを保存しました: test_output/secure_homomorphic_sha256.txt
[2025-05-14 14:03:07] ====== 準同型暗号マスキング方式 復号テスト (true鍵) ======
[2025-05-14 14:03:07] 暗号化ファイルを読み込み中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 14:03:07] 暗号化ファイル読み込み完了
[2025-05-14 14:03:07] 鍵タイプ: true鍵
[2025-05-14 14:03:07] true鍵用のデータを抽出中...
[2025-05-14 14:03:07] マスクを除去中...
[2025-05-14 14:03:07] 復号中...
[2025-05-14 14:03:08] 復号後データ先頭: b'N\x08\xfc\x8c\x12\xa1\xab\x9e\xb2 \x8a\x9d\xa6\xe6\x86\x01(}\x88j~\xc4|\x06/\xf6\x9b`\x02\x15F\xc0]\x90\xbc\xdaGM}\xe7\x0e\x1c^\xc7\xcd6_Lb\x14'
[2025-05-14 14:03:08] 復号データを保存中: test_output/secure_homomorphic_true.text
[2025-05-14 14:03:08] 復号データを保存しました: サイズ=305バイト
[2025-05-14 14:03:08] 復号データはテキストではありません（バイナリデータ）
[2025-05-14 14:03:08] ====== 準同型暗号マスキング方式 復号テスト (false鍵) ======
[2025-05-14 14:03:08] 暗号化ファイルを読み込み中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 14:03:08] 暗号化ファイル読み込み完了
[2025-05-14 14:03:08] 鍵タイプ: false鍵
[2025-05-14 14:03:08] false鍵用のデータを抽出中...
[2025-05-14 14:03:08] マスクを除去中...
[2025-05-14 14:03:08] 復号中...
[2025-05-14 14:03:08] 復号後データ先頭: b'q\x04\xdd\xb6\xb5\xe5\xd5c#\xc7\x11\x9e\xe9x\xe2\xb2]\x0f\xec\x82_o\xc0\xe7\xa8.,e\xe4\x94\xcf\x91\xc9\xfdw>\xc4\x04\x04\x99}\xf1\x1bx\xae\xc0\xaaRJJ'
[2025-05-14 14:03:08] 復号データを保存中: test_output/secure_homomorphic_false.text
[2025-05-14 14:03:08] 復号データを保存しました: サイズ=305バイト
[2025-05-14 14:03:08] 復号データはテキストではありません（バイナリデータ）
[2025-05-14 14:03:08] 検証結果レポートを作成中...
[2025-05-14 14:03:08] 
====== 準同型暗号マスキング方式 検証結果 ======
[2025-05-14 14:03:08] 元の真ファイルハッシュ: 088f5b0bbab0b70a3b992763d4138ad25630fff6853eab15e63602a513139d6a
[2025-05-14 14:03:08] 復号された真ファイルハッシュ: be4ae84b32d59894aab0c9c2ae15aa6cdbe9aa7a3bd550cdf7412796a0acaac8
[2025-05-14 14:03:08] 真ファイル一致: 失敗 ❌
[2025-05-14 14:03:08] 元の偽ファイルハッシュ: b55cd667cee3c8d3b7ba07181912dd974f62b5b9a13a35198a052dcb960bccba
[2025-05-14 14:03:08] 復号された偽ファイルハッシュ: 926464cc1192628c8455bf8e874f6b4748fdec7517014e14fb9e3948a3b5a2e3
[2025-05-14 14:03:08] 偽ファイル一致: 失敗 ❌
[2025-05-14 14:03:08] 検証結果グラフを保存しました: test_output/secure_homomorphic_verification.png
[2025-05-14 14:03:08] 
❌ 検証失敗: 暗号化または復号化に問題があります。
[2025-05-14 14:03:08]   - 真の鍵による復号で元の真ファイルが得られませんでした。
[2025-05-14 14:03:08]   - 偽の鍵による復号で元の偽ファイルが得られませんでした。
[2025-05-14 14:03:08] 
準同型暗号マスキング方式 完全検証テスト 完了！処理時間: 0.81秒
[2025-05-14 14:03:08] 詳細ログ: test_output/secure_homomorphic_log_20250514_140307.txt
