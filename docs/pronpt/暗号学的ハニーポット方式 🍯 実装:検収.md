あなたは暗号化方式研究の専門家で、レガシーな方式からモダンな方式まで先入観を持たずに組み合わせ、求められた業務要件を安全な実装で堅牢に実現します
あなたは実装チームの最高責任者として作業結果を実際の Codebase を解析しテストを実際に実行して検収します
あなたは実装チームの最高責任者として実装に不備があれば適切に実装しなおします
あなたは、攻撃者はプログラムを全て入手した上で復号されるファイルの真偽を検証しようとしても攻撃者はファイルの真偽が判定できないこのプロジェクトの必須要件を達成します
あなたは日本語で対応します
あなたは全ての検収が完了した後に事実に基づいてレポートを生成し報告を行います

[要求]
'フェーズ 3: 暗号学的ハニーポット方式 🍯'
'docs/issue/homomorphic_masking_method.md'
(https://github.com/pacific-system/secret-sharing-demos-20250510/issues/19)
のなかの

'暗号学的ハニーポット方式 🍯 実装【子 Issue #8】：テストとデバッグ'
'docs/issue/honeypot_cryptographic_method_8.md'
(https://github.com/pacific-system/secret-sharing-demos-20250510/issues/27)

の実装結果に対して検収作業を行ってください
必要があればチームの最高責任者として追加実装や修正を行なってください

暗号複合の検査は以下のファイルを利用すること
common/true-false-text/f.text
common/true-false-text/t.text

完了の条件

1. 単体テスト（test_trapdoor.py）が実装され、トラップドア関数が正しく機能することが確認できる
2. 統合テスト（test_integration.py）が実装され、暗号化 → 復号の一連の流れが正しく機能することが確認できる
3. カプセルテスト（test_capsule.py）が実装され、ハニーポットカプセルが正しく機能することが確認できる
4. 改変耐性テスト（test_tamper_resistance.py）が実装され、経路選択機能が正しく機能することが確認できる
5. 統合テスト実行スクリプト（run_tests.py）が実装され、すべてのテストを一括実行できる
6. デバッグ支援スクリプト（debug.py）が実装され、主要な機能の内部動作を可視化できる
7. すべてのテストが正常に実行され、エラーが発生しない
8. 動的判定閾値が実装されている
9. 長大なファイルは分割されている
10. 処理が正常に行われなかったときにバックドアから復号結果を返却するなどのセキュリティリスクがないこと
11. テストを通過するためのバイパスなどが実装されていないこと

[要求の完了方法]

- 全て完了するまでレポートを作成しないでください
- 検収レポートを'docs/issue'に MD 形式で生成
- テストスクリプトで生成される画像を'git issue の書式で'添付(path 例：https://github.com/pacific-system/secret-sharing-demos-20250510/blob/main/test_output/homomorphic_operations.png?raw=true)
- gh コマンドを実行し(https://github.com/pacific-system/secret-sharing-demos-20250510/issues/27)にMDファイルをコメント投稿して検収レポートをチームで共有(mdファイルを投稿する)

- 'git commit'（パシ子スタイル。readme を含めること）
- 'git push'

[最終成果物（納品物件）]

- method_7_honeypot/encrypt.py
- method_7_honeypot/decrypt.py

[制約]

- 出力ファイルにはタイムスタンプを付与しエビデンスが上書きされないようにすること（ファイル削除は利用者がマニュアル操作で消します）
- ベストプラクティスに反する実装を禁止します。そのようなシナリオになった時は直ちに作業を中断して指示を仰ぐ事。
- 要件を全て満たした上でこのこの実装作業を進めてください。この作業だけを完了させるために既に満たしている要件を犠牲にしたり要件そのものを歪曲したりしないでください
- 問題が発生したら範囲外の事象でもレポートにて報告すること
- 項目は明確に記載し、作業者によって品質の差異が出ないように完了の条件を完全に定義すること
- ディレクトリ一覧,ファイル配置図（テキスト式）、を挿入すること
- デイレクトり構成、ファイル名、パラメータ名などは完全に全てを記述すること
- 作業者がこのドキュメントを読み、想像や推測や憶測の余地がない完全な指示書を生成すること
- 関連資料などの URL を具体的に添付すること
- ダークモードで見やすいように記述してください
- marmeid 記法、markdown 形式の表が利用できます
- フロー図は横幅を広げすぎないように気をつけてください。縮小表示されて読まなくなります
- 記述スタイルはパシ子

[最重要事項]

- 'README.md'を熟読し厳しい要件を理解している
- この実装は技術選定の為の重要な実装となり、仮にフェイクの実装が行われあたかも実装しているように見せかけたまま採用されてしまうと大規模プロジェクトが開始された後に大混乱が発生します。

[重要事項]

- ファイルの行数が 500 行を超える時は、複数ファイルに分割してください
- ファイルサイズが大きい時は、複数ファイルに分割してください
- テストファイルの出力先は'test_output'ここに用意されています
- 'method_8_homomorphic'このディレクトリが今回のスクリプトのディレクトリです
- 処理能力を超えてしまうのでひとつのファイルに長大な内容を書き込もうとしないこと
- ダークモードで見やすい配色でに記述してください
- パシ子スタイルでの記述

[禁止事項]

- 問題があったときに問題を隠匿するコードを生成しテストを通過させることは禁止します
- 復号が正常に行われないトラブルが発生したときに、緊急対応として鍵の種類に応じて事前定義されたテキストをバイパス出力する不正改造を行うこと
- バックドアを設置し、あたかも暗号復号が正確に実装され、true/false のテキストも要件通りスイッチできているように見せかける不正実装を禁止します

[全体の計画]

- 'docs/readme_parts/10_0_issues.md'細分化して計画されています。本タスクの範囲外の実装を行わないように全体の作業計画を確認してください

[前提となる要件仕様]

- どちらのキーが「正規」か「非正規」かはシステム上の区別ではなく、使用者の意図によって決まる
- 「ハニーポット戦略」が実装可能 - 意図的に「正規」鍵を漏洩させて偽情報を信じ込ませる
- 本当に重要な情報を「非正規」側に隠す「リバーストラップ」も設定可能
- 製品版ではない為極力 common でファイルを共有して効率化を図らないでください。common で依存性が高まると DEMO の実現にコストがかかるので他の DEMO に気を使うことなく変更ができるように独立させてください
- 攻撃者は暗号化・復号プログラムのソースコードを完全に入手していると仮定します
- 攻撃者は復号結果が正規の true.text か非正規の false.text かを判別しようと試みます
- 攻撃者がスクリプト解析しても生成物が正規か非正規か判別できないようにすること
- 暗号強度は範囲外とし、方式の特性を実現することが最大の目的です（暗号強度は別のフェーズが責務を負います）
- 鍵情報以外の部分からは判別材料が得られない強靭な仕組みが要件です
- スクリプトを変更・改造されても、秘密経路の識別は数学的に不可能な設計が要件です
