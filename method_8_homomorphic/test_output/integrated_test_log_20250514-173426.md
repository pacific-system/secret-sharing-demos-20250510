準同型暗号マスキング方式 統合テスト開始（all）
日時: 2025年05月14日 17:34:26

テスト設定:
- テストタイプ: all
- 出力ディレクトリ: test_output
- 真のテストファイル: ../common/true-false-text/t.text
- 偽のテストファイル: ../common/true-false-text/f.text
- 鍵サイズ: 1024ビット
- チャンクサイズ: 64バイト

## テスト環境情報
- Python バージョン: 3.12.8 (v3.12.8:2dc476bcb91, Dec  3 2024, 14:43:20) [Clang 13.0.0 (clang-1300.0.29.30)]
- OS: posix
- ワーキングディレクトリ: /Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic


================================================================================
# 準同型暗号の基本機能テスト
================================================================================


## テストファイルの読み込み
[2025-05-14 17:34:26] テストファイル読み込み完了:
[2025-05-14 17:34:26]   真テキストサイズ: 18バイト
[2025-05-14 17:34:26]   偽テキストサイズ: 19バイト

## 暗号化処理
[2025-05-14 17:34:26] 準同型暗号システムを初期化中...
[2025-05-14 17:34:26] 公開鍵生成完了: n=113432467208351462997679586494653052197833714565382133527236239282224414886957883630939377542903815741132845631358324346878823031944836939832344158706896522356035866481036201187620702968865828528029377350297185974143677402176404482541854134471368904903546442355261881040958459369577325683037785973514087663473, g=113432467208351462997679586494653052197833714565382133527236239282224414886957883630939377542903815741132845631358324346878823031944836939832344158706896522356035866481036201187620702968865828528029377350297185974143677402176404482541854134471368904903546442355261881040958459369577325683037785973514087663474
[2025-05-14 17:34:26] 真偽判別用の鍵を生成中...
[2025-05-14 17:34:26] 鍵生成完了:
[2025-05-14 17:34:26]   真鍵: 2d2637cdd025bb934a8a0018046f5030d4f176f68ebd03b60038c8405a36fa61
[2025-05-14 17:34:26]   偽鍵: 54ba08038b4c34b37dc218825f71ae7a73e3a0bb606d4201e0c35f1e346f5503
[2025-05-14 17:34:26] データを前処理中...
[2025-05-14 17:34:26] 前処理完了:
[2025-05-14 17:34:26]   真データタイプ: text, サイズ: 53バイト
[2025-05-14 17:34:26]   偽データタイプ: text, サイズ: 57バイト
[2025-05-14 17:34:26] チャンク分割完了:
[2025-05-14 17:34:26]   真チャンク数: 1
[2025-05-14 17:34:26]   偽チャンク数: 1
[2025-05-14 17:34:26] 暗号化完了:
[2025-05-14 17:34:26]   真暗号化チャンク数: 1
[2025-05-14 17:34:26]   偽暗号化チャンク数: 1
[2025-05-14 17:34:26] マスク関数を生成中...
[2025-05-14 17:34:26] マスク関数を適用して真偽チャンクを変換中...
[2025-05-14 17:34:26] 暗号文を識別不能な形式に変換中...
[2025-05-14 17:34:26] 暗号化データを保存中: test_output/basic_test/encrypted_20250514-173426.json
[2025-05-14 17:34:26] 暗号化データを保存しました: サイズ=3626バイト

## 真鍵での復号
[2025-05-14 17:34:26] 真鍵用のデータを抽出中...
[2025-05-14 17:34:26] マスクを除去中...
[2025-05-14 17:34:26] 復号中...
[2025-05-14 17:34:26] 真鍵データの後処理中... データタイプ: text
[2025-05-14 17:34:26] 真鍵での復号データを保存中: test_output/basic_test/decrypted_true_20250514-173426.txt

## 偽鍵での復号
[2025-05-14 17:34:26] 偽鍵用のデータを抽出中...
[2025-05-14 17:34:26] マスクを除去中...
[2025-05-14 17:34:26] 復号中...
[2025-05-14 17:34:26] 偽鍵データの後処理中... データタイプ: text
[2025-05-14 17:34:26] 偽鍵での復号データを保存中: test_output/basic_test/decrypted_false_20250514-173426.txt

## 復号結果の検証
[2025-05-14 17:34:26] 真ファイルのハッシュ比較: False
[2025-05-14 17:34:26]   元のハッシュ:   5adc76fbb7138113652b7dd35db3b7010b9d424f27e431408b1478f7c1d5c318
[2025-05-14 17:34:26]   復号後のハッシュ: 5fbe50751a01a08013503e42d8d01c6f589b69343ef4e6e6879eae88ec054497
[2025-05-14 17:34:26] 偽ファイルのハッシュ比較: False
[2025-05-14 17:34:26]   元のハッシュ:   466d0166b38c0b477cd0787a5b9a97b64623703e34e7af1b0e066870ea2e4326
[2025-05-14 17:34:26]   復号後のハッシュ: 8d01b9743934b2fdae3af352dcc64c7409791eaf22f76f380952dd3589ce68d8
[2025-05-14 17:34:26] テスト結果: 失敗

================================================================================
# マスク関数テスト
================================================================================


## 準同型暗号の初期化
[2025-05-14 17:34:26] 公開鍵生成完了: n=104946202141254639558913174613502929902021587526181478926622454469937123324184344849793458132263048937200508337896070789253868695873893532434179862259488721288092947167007223883998887414083988457466681717338731725850565248843862748614934399525947361275699582185468293484369579293163819848023211971742744673799, g=104946202141254639558913174613502929902021587526181478926622454469937123324184344849793458132263048937200508337896070789253868695873893532434179862259488721288092947167007223883998887414083988457466681717338731725850565248843862748614934399525947361275699582185468293484369579293163819848023211971742744673800

## 基本マスク関数テスト
[2025-05-14 17:34:26] 基本マスク関数を生成しました
[2025-05-14 17:34:26]   真マスク: {'type': 'true_mask', 'params': {'additive': [2170529518, 2832814300, 4184307414, 1952886600], 'multiplicative': [2585763831, 3433325311, 3486298390, 532945647]}, 'seed': 'Lqnaf1AgSxb571da71/1tpbyCsIxnFm+SRepFM8cNks='}
[2025-05-14 17:34:26]   偽マスク: {'type': 'false_mask', 'params': {'additive': [48497139, 722593197, 778984080, 3372242904], 'multiplicative': [1821258044, 426721583, 3778278576, 4143361983]}, 'seed': 'Lqnaf1AgSxb571da71/1tpbyCsIxnFm+SRepFM8cNks='}
[2025-05-14 17:34:26] 基本マスクを適用しました
[2025-05-14 17:34:26] 基本マスク関数テスト結果: 失敗

## 高度マスク関数テスト
[2025-05-14 17:34:26] 高度マスク関数を生成しました
[2025-05-14 17:34:26] 高度マスクを適用しました
[2025-05-14 17:34:26] 高度マスク関数テスト結果: 失敗

## マスクの統計的特性テスト
[2025-05-14 17:34:26] 基本マスクの統計:
[2025-05-14 17:34:26]   平均: 2140466058.65125
[2025-05-14 17:34:26]   分散: 1.466381147973935e+18
[2025-05-14 17:34:26] 高度マスクの統計:
[2025-05-14 17:34:26]   平均: 2197067464.34875
[2025-05-14 17:34:26]   分散: 1.44172684193773e+18
[2025-05-14 17:34:26] マスク分布グラフを保存しました: test_output/mask_test/mask_distribution_20250514-173426.png
[2025-05-14 17:34:26] 統計的特性テスト結果: 合格

## 準同型特性の保存確認
[2025-05-14 17:34:26] 準同型特性の保存: 成功
[2025-05-14 17:34:26]   期待値: 579
[2025-05-14 17:34:26]   実際の結果: 579（元の結果: [579]）

================================================================================
# セキュリティ特性テスト
================================================================================


## 暗号文識別不能性テスト
[2025-05-14 17:34:26] 暗号化テスト 1/3 を実行...
[2025-05-14 17:34:26] 暗号化ファイル 1 のハッシュ: b776a5df980aca9d...
[2025-05-14 17:34:26] 暗号化テスト 2/3 を実行...
[2025-05-14 17:34:27] 暗号化ファイル 2 のハッシュ: 14d52334ff5ae517...
[2025-05-14 17:34:27] 暗号化テスト 3/3 を実行...
[2025-05-14 17:34:27] 暗号化ファイル 3 のハッシュ: 82938fff4e574c91...
[2025-05-14 17:34:27] 暗号文識別不能性テスト: 合格
[2025-05-14 17:34:27]   3回の暗号化で得られたユニークなハッシュ数: 3

## 鍵解析テスト
[2025-05-14 17:34:27] テスト鍵生成:
[2025-05-14 17:34:27]   真鍵: a5bc5d6488960721...
[2025-05-14 17:34:27]   偽鍵: 513752223e8a9b58...
[2025-05-14 17:34:27] 鍵解析テスト:
[2025-05-14 17:34:27]   真鍵の解析結果: false
[2025-05-14 17:34:27]   偽鍵の解析結果: false
[2025-05-14 17:34:28] 鍵解析結果分布（50サンプル）:
[2025-05-14 17:34:28]   真鍵と判定: 26 (52.0%)
[2025-05-14 17:34:28]   偽鍵と判定: 24 (48.0%)
[2025-05-14 17:34:28]   その他の判定: 0 (0.0%)
[2025-05-14 17:34:28] 鍵解析分布テスト: 合格
[2025-05-14 17:34:28]   分布バランス: 0.040
[2025-05-14 17:34:29] 鍵分布グラフを保存しました: test_output/security_test/key_distribution_20250514-173426.png

## タイミング攻撃耐性テスト
[2025-05-14 17:34:29] タイミング攻撃耐性テストでエラーが発生しました: 'seed'

================================================================================
# パフォーマンステスト
================================================================================


## 鍵生成パフォーマンス
[2025-05-14 17:34:29] 512ビット鍵の生成時間を測定...
[2025-05-14 17:34:29]   512ビット鍵の生成時間: 0.002484秒
[2025-05-14 17:34:29] 1024ビット鍵の生成時間を測定...
[2025-05-14 17:34:29]   1024ビット鍵の生成時間: 0.045843秒
[2025-05-14 17:34:29] 2048ビット鍵の生成時間を測定...
[2025-05-14 17:34:29]   2048ビット鍵の生成時間: 0.334204秒

## 暗号化パフォーマンス（サイズ別）
[2025-05-14 17:34:29] 100バイトのデータで暗号化時間を測定...
[2025-05-14 17:34:29]   100バイト暗号化時間: 0.051688秒
[2025-05-14 17:34:29] 1000バイトのデータで暗号化時間を測定...
[2025-05-14 17:34:29]   1000バイト暗号化時間: 0.414482秒
[2025-05-14 17:34:29] 10000バイトのデータで暗号化時間を測定...
[2025-05-14 17:34:34]   10000バイト暗号化時間: 4.075766秒

## 復号パフォーマンス（サイズ別）
[2025-05-14 17:34:38] 100バイトのデータで復号時間を測定...
[2025-05-14 17:34:38]   100バイト復号時間: 0.055849秒
[2025-05-14 17:34:38] 1000バイトのデータで復号時間を測定...
[2025-05-14 17:34:38]   1000バイト復号時間: 0.441311秒
[2025-05-14 17:34:38] 10000バイトのデータで復号時間を測定...
[2025-05-14 17:34:42]   10000バイト復号時間: 4.284763秒

## スケーリング特性
[2025-05-14 17:34:42] 鍵サイズ 512ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 17:34:42]   暗号化時間: 0.038030秒, 復号時間: 0.027108秒
[2025-05-14 17:34:42] 鍵サイズ 1024ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 17:34:43]   暗号化時間: 0.201761秒, 復号時間: 0.175982秒

## パフォーマンスグラフ生成
[2025-05-14 17:34:43] パフォーマンスグラフを保存しました: test_output/performance_test/performance_graph_20250514-173443.png
[2025-05-14 17:34:43] パフォーマンスデータを保存しました: test_output/performance_test/performance_data_20250514-173443.json

================================================================================
# テスト結果レポートの生成
================================================================================

[2025-05-14 17:34:43] テスト結果レポートを保存しました: test_output/homomorphic_test_report_20250514-173443.md
## テスト完了
- 合計実行時間: 17.76秒
- テスト結果レポート: test_output/homomorphic_test_report_20250514-173443.md
- 成功したテスト: 1/4
### 一部のテストが失敗しました ❌
