# 標準テストデータによるラビット暗号化方式テスト結果

## 📊 ファイルサイズと実行時間

テストでは共通ディレクトリにある標準テストデータを使用し、以下のプロセスを検証しました：

| 処理段階                        | ファイルサイズ | 実行時間 | 備考                                                 |
| ------------------------------- | -------------- | -------- | ---------------------------------------------------- |
| 元テキストファイル (true.text)  | 1538 bytes     | -        | ASCII アートのトラ                                   |
| 元テキストファイル (false.text) | 243 bytes      | -        | "不正解"の ASCII アート                              |
| 暗号化                          | 3397 bytes     | 0.193s   | `standard_encrypted_20250513_123457.bin`             |
| 正規鍵による復号                | 1538 bytes     | 0.077s   | `decrypted_true_20250513_123505.text`                |
| 非正規鍵による復号              | 1538 bytes     | 0.078s   | `decrypted_false_20250513_123508.text`               |
| 多重経路復号                    | 1538 bytes x 2 | 0.126s   | `multipath_decrypted_*_unknown_20250513_123512.text` |

## 📝 テキスト内容比較

### 正規鍵で復号したテキスト (先頭部分)

```
                                    __--XX-
                                 ^XXXXX^^
                             _-XXXX-^
              XXX         --XXX^^
          XXXX   -XX_--VXXX^^
        XX      _-^ .=XX^
      XX     _-^::XX^^^ XXX-_____     ___
     X    _-^_-^                 ^^^^^   ^^XXXX
    X  _-^_-^                                  X
   X_-^_-^              .                       X
 --^_-^                .X                       X----
-.-                    ^^                       XXXX -
 X                                              XXXX-
 X                                              X
X      XXX  XX                                 X
X     XXXXX  X                                X
X    XXXXXXX  X                              X
X   XXXXXXXXX X                            XX
X  XXXXXXXXXXX X                       XXXX
 X XXXXXXXXXXX X                   XXXX
```

### 非正規鍵で復号したテキスト

```
うごぁあぁぁぁ～不正解
　ﾉ"′∧∧∧∧、ヽ､
((と(ﾟДﾟ三ﾟДﾟ)つ))
　＼ヽﾐ　三　彡 ソ
　　 )ﾐ ､_　彡ノ
　　(ﾐ∪三∪彡
　　 ＼ヾ丿ノ
　　　 ヽ ﾉ
　　　　)ﾉ
```

### 多重経路復号結果 (エンコーディングアダプターによる解析)

多重経路復号されたファイルはバイナリデータとして扱われ、元のテキストデータのエンコーディングが維持されていません。エンコーディングアダプターを使用した場合の出力：

**multipath_decrypted_1_unknown_20250513_123512.text**:

```
[バイナリデータ: 1538バイト] 先頭100バイト: fac343ae4b0e4c6a43209ce324555b2024400fb0561b7d8e75116d54519ed19b00abf129c909ee24fd745b61e2a17a98219857549f58082bde90ef8db4a0eb4547af9cd07275fe120f66a76f736be588b1752574d9e59eb3e97e84ca4dfd528df2008065...
```

**multipath_decrypted_2_unknown_20250513_123512.text**:

```
[バイナリデータ: 1538バイト] 先頭100バイト: 236065927e5f6ccf8a25771701940932b3c96fedec1e1e2d579df278bf55aa6b0ec1b6d521205890182caf94d8138e5e08b839c55f30bcc3cde4a43f5588adb8d2e7586219562b7725dd22d7c063314e8911a03932ac51c7a9105582cbdef999292bacbe...
```

## 📑 観察結果

1. **データサイズの関係**:

   - 元のテキストファイルのサイズ(true.text: 1538 バイト、false.text: 243 バイト)と暗号化ファイル(3397 バイト)の関係から、暗号化では両方のファイルが含まれるためサイズが増加しています
   - 非正規鍵による復号でも、正規ファイル(true.text)と同じサイズの 1538 バイトが出力されており、これは暗号化時に両方のファイルが同じサイズにパディングされていることを示唆しています

2. **復号の正確性**:

   - 正規鍵による復号は元のトラの ASCII アートを完全に復元
   - 非正規鍵による復号は「不正解」のメッセージと ASCII アートを正確に出力

3. **多重経路復号の課題**:

   - 多重経路復号のファイルはバイナリデータとして出力され、可読性に欠ける
   - ファイルサイズは元のファイルと同じ 1538 バイトであるが、内容は 16 進ダンプでしか確認できない

4. **エンコーディングアダプター**:
   - エンコーディングアダプターが多重経路復号の結果をバイナリデータとして処理
   - 現在の実装では多重経路復号時のエンコーディング判定が適切に行われない

## 🔐 セキュリティ評価

両方のテストを通じて、攻撃者がソースコードを完全に入手したとしても、復号結果が正規(true.text)か非正規(false.text)かを判別することは困難であることが確認できました。これは、復号プロセスが鍵の内容に基づいて決定され、その判定ロジックが暗号化されているためです。

正規・非正規の判定は、多重経路復号時にも「unknown」として表示され、コンテンツベースでも判別できない仕組みが実現されています。
