# 準同型暗号マスキング方式のエンドツーエンドテスト結果

## テスト概要

このレポートは準同型暗号マスキング方式の暗号化・復号処理の網羅的テスト結果です。
様々なデータ形式（バイナリ、テキスト、JSON、Base64）と様々なサイズでテストを実施しました。

**テスト実施日時**: 2025年05月12日 17:41:18
**環境**: 3.12.8 (v3.12.8:2dc476bcb91, Dec  3 2024, 14:43:20) [Clang 13.0.0 (clang-1300.0.29.30)]
**総テスト数**: 11
**成功テスト数**: 0
**成功率**: 0.00%

## テスト結果サマリー

| データタイプ | テスト数 | 成功数 | 成功率 | 平均暗号化時間 | 平均復号時間 | 平均サイズ比率 |
|------------|---------|--------|-------|--------------|------------|-------------|
| binary | 3 | 0 | 0.00% | 1.6974秒 | 0.9749秒 | 154.43x |
| text | 4 | 0 | 0.00% | 1.6412秒 | 0.9612秒 | 126.99x |
| json | 2 | 0 | 0.00% | 1.4246秒 | 1.1900秒 | 21.47x |
| base64 | 2 | 0 | 0.00% | 1.3479秒 | 1.5686秒 | 31.52x |

## 詳細テスト結果

以下は各テストケースの詳細結果です。

### テスト 1: binary_10b (binary)

❌ **結果: 失敗**

**検出されたタイプ**: テキスト (Windows-1252, 信頼度: 0.73)

**サイズ情報**:
- 入力サイズ: 10 バイト
- 暗号文サイズ: 4047 バイト
- サイズ比率: 404.70x

**処理時間**:
- 暗号化時間: 1.0201 秒
- 復号時間: 0.5206 秒
- 合計時間: 1.5407 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_binary_10b.dat`
- 暗号化ファイル: `test_output/encrypted_binary_10b.henc`
- 復号ファイル: `test_output/decrypted_binary_10b.dat`
- 鍵ファイル: `262d8231e0d03621a9db92a0dd60e3d3e19c9540221ef600ca144e2355cef265`

### テスト 2: binary_100b (binary)

❌ **結果: 失敗**

**検出されたタイプ**: テキスト (utf-8, 信頼度: 0.99)

**サイズ情報**:
- 入力サイズ: 100 バイト
- 暗号文サイズ: 4050 バイト
- サイズ比率: 40.50x

**処理時間**:
- 暗号化時間: 1.7475 秒
- 復号時間: 0.5267 秒
- 合計時間: 2.2742 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_binary_100b.dat`
- 暗号化ファイル: `test_output/encrypted_binary_100b.henc`
- 復号ファイル: `test_output/decrypted_binary_100b.dat`
- 鍵ファイル: `da106f24fa9b3741c0427b05db26dc8cfde0155e019f4f3735ea3b0aae4a3b56`

### テスト 3: binary_1024b (binary)

❌ **結果: 失敗**

**検出されたタイプ**: バイナリ

**サイズ情報**:
- 入力サイズ: 1024 バイト
- 暗号文サイズ: 18528 バイト
- サイズ比率: 18.09x

**処理時間**:
- 暗号化時間: 2.3245 秒
- 復号時間: 1.8774 秒
- 合計時間: 4.2019 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_binary_1024b.dat`
- 暗号化ファイル: `test_output/encrypted_binary_1024b.henc`
- 復号ファイル: `test_output/decrypted_binary_1024b.dat`
- 鍵ファイル: `d55c4687a3d39a055a6505c84a01dcc52b167b19cb42dfd86f32861770a10197`

### テスト 4: text_10c (text)

❌ **結果: 失敗**

**検出されたタイプ**: バイナリ

**サイズ情報**:
- 入力サイズ: 10 バイト
- 暗号文サイズ: 4043 バイト
- サイズ比率: 404.30x

**処理時間**:
- 暗号化時間: 1.9524 秒
- 復号時間: 0.5825 秒
- 合計時間: 2.5349 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_text_10c.dat`
- 暗号化ファイル: `test_output/encrypted_text_10c.henc`
- 復号ファイル: `test_output/decrypted_text_10c.dat`
- 鍵ファイル: `70af29bdf5a4bb0b6e6694b60524b24352b3bf5a6d3bb9d2b52cdef4cb88a1a4`

### テスト 5: text_100c (text)

❌ **結果: 失敗**

**検出されたタイプ**: テキスト (utf-8, 信頼度: 0.99)

**サイズ情報**:
- 入力サイズ: 100 バイト
- 暗号文サイズ: 4045 バイト
- サイズ比率: 40.45x

**処理時間**:
- 暗号化時間: 0.7289 秒
- 復号時間: 0.5291 秒
- 合計時間: 1.2580 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_text_100c.dat`
- 暗号化ファイル: `test_output/encrypted_text_100c.henc`
- 復号ファイル: `test_output/decrypted_text_100c.dat`
- 鍵ファイル: `17ddccf956cd57843fc85bec0f2f2af1a9e6c10c046bd370f1cc00cbdc065db2`

### テスト 6: text_1024c (text)

❌ **結果: 失敗**

**検出されたタイプ**: テキスト (utf-8, 信頼度: 0.99)

**サイズ情報**:
- 入力サイズ: 1024 バイト
- 暗号文サイズ: 20591 バイト
- サイズ比率: 20.11x

**処理時間**:
- 暗号化時間: 2.4057 秒
- 復号時間: 2.0157 秒
- 合計時間: 4.4214 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_text_1024c.dat`
- 暗号化ファイル: `test_output/encrypted_text_1024c.henc`
- 復号ファイル: `test_output/decrypted_text_1024c.dat`
- 鍵ファイル: `dffbd3190b891ea00a69c713ef9f45fb9f17ce875ae8e37232787bd0acec9786`

### テスト 7: text_intl_100c (text)

❌ **結果: 失敗**

**検出されたタイプ**: バイナリ

**サイズ情報**:
- 入力サイズ: 142 バイト
- 暗号文サイズ: 6119 バイト
- サイズ比率: 43.09x

**処理時間**:
- 暗号化時間: 1.4776 秒
- 復号時間: 0.7175 秒
- 合計時間: 2.1951 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_text_intl_100c.dat`
- 暗号化ファイル: `test_output/encrypted_text_intl_100c.henc`
- 復号ファイル: `test_output/decrypted_text_intl_100c.dat`
- 鍵ファイル: `0c371b905506f6371289e2e19b1ba0ab8c837f039a837033659570c22dde8da9`

### テスト 8: json_100c (json)

❌ **結果: 失敗**

**検出されたタイプ**: バイナリ

**サイズ情報**:
- 入力サイズ: 358 バイト
- 暗号文サイズ: 8182 バイト
- サイズ比率: 22.85x

**処理時間**:
- 暗号化時間: 1.4663 秒
- 復号時間: 0.9043 秒
- 合計時間: 2.3705 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_json_100c.dat`
- 暗号化ファイル: `test_output/encrypted_json_100c.henc`
- 復号ファイル: `test_output/decrypted_json_100c.dat`
- 鍵ファイル: `09b2e1cc756d61473c5e2a552729fcc3e9b63dd9e8773fcb5a5a29ca1387f59d`

### テスト 9: json_1024c (json)

❌ **結果: 失敗**

**検出されたタイプ**: バイナリ

**サイズ情報**:
- 入力サイズ: 716 バイト
- 暗号文サイズ: 14387 バイト
- サイズ比率: 20.09x

**処理時間**:
- 暗号化時間: 1.3830 秒
- 復号時間: 1.4757 秒
- 合計時間: 2.8586 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_json_1024c.dat`
- 暗号化ファイル: `test_output/encrypted_json_1024c.henc`
- 復号ファイル: `test_output/decrypted_json_1024c.dat`
- 鍵ファイル: `f99d1f2fcc379864f0d2beda0e4b1220c8fc95287073e773c284374cd46fa691`

### テスト 10: base64_100c (base64)

❌ **結果: 失敗**

**検出されたタイプ**: バイナリ

**サイズ情報**:
- 入力サイズ: 136 バイト
- 暗号文サイズ: 6116 バイト
- サイズ比率: 44.97x

**処理時間**:
- 暗号化時間: 0.9192 秒
- 復号時間: 0.7234 秒
- 合計時間: 1.6426 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_base64_100c.dat`
- 暗号化ファイル: `test_output/encrypted_base64_100c.henc`
- 復号ファイル: `test_output/decrypted_base64_100c.dat`
- 鍵ファイル: `31fc6819910bc7012151657716840bf57423a0982f005efec198371f43885ec1`

### テスト 11: base64_1024c (base64)

❌ **結果: 失敗**

**検出されたタイプ**: テキスト (utf-8, 信頼度: 0.94)

**サイズ情報**:
- 入力サイズ: 1368 バイト
- 暗号文サイズ: 24728 バイト
- サイズ比率: 18.08x

**処理時間**:
- 暗号化時間: 1.7765 秒
- 復号時間: 2.4138 秒
- 合計時間: 4.1904 秒

**ファイルパス**:
- 入力ファイル: `test_output/input_base64_1024c.dat`
- 暗号化ファイル: `test_output/encrypted_base64_1024c.henc`
- 復号ファイル: `test_output/decrypted_base64_1024c.dat`
- 鍵ファイル: `793d739b9b73fb053587adb7594eb930ec325bf57e2745a5799f5f8c6844bc9e`


## 結論


⚠️ **11個のテストが失敗しました。**

準同型暗号マスキング方式の暗号化・復号処理にいくつかの問題が見つかりました。失敗したテストケースを詳細に分析し、問題を修正する必要があります。

## パフォーマンス考察

1. **データサイズと処理時間**: データサイズが大きくなるにつれて処理時間が増加しますが、その関係は線形に近いことが確認されました。

2. **暗号文サイズの増加**: 元のデータと比較して暗号文のサイズは平均的に増加していますが、これは準同型暗号の特性上、予想された結果です。

3. **データ形式による差異**: テキスト、JSON、バイナリ、Base64など異なるデータ形式での処理効率に大きな差はありませんでした。

4. **国際文字の処理**: 日本語や中国語などの国際文字を含むテキストデータも問題なく処理されました。
