# ラビット暗号化方式 テスト結果レポート

## 📊 ファイルサイズと実行時間

テストでは以下のファイルとプロセスを検証しました：

| 処理段階           | ファイルサイズ | 実行時間 | 備考                                                 |
| ------------------ | -------------- | -------- | ---------------------------------------------------- |
| 元テキストファイル | 121 bytes      | -        | `test_sample.txt`                                    |
| 暗号化             | 806 bytes      | 0.080s   | `test_encrypted_20250513_120215.bin`                 |
| 正規鍵による復号   | 243 bytes      | 0.082s   | `decrypted_true_20250513_120226.text`                |
| 非正規鍵による復号 | 243 bytes      | 0.074s   | `decrypted_false_20250513_120230.text`               |
| 多重経路復号       | 243 bytes x 2  | 0.118s   | `multipath_decrypted_*_unknown_20250513_120233.text` |

## 📝 テキスト内容比較

### 元のテキストファイル (test_sample.txt)

```
これはテスト用のサンプルテキストです。ラビット暗号化方式のテストに使用されます。
```

### 正規鍵で復号したテキスト (decrypted_true_20250513_120226.text)

```
これはテスト用のサンプルテキストです。ラビット暗号化方式のテストに使用されます。
```

### 非正規鍵で復号したテキスト (decrypted_false_20250513_120230.text)

```
うごぁあぁぁぁ～不正解
　ﾉ"′∧∧∧∧、ヽ､
((と(ﾟДﾟ三ﾟДﾟ)つ))
　＼ヽﾐ　三　彡 ソ
　　 )ﾐ ､_　彡ノ
　　(ﾐ∪三∪彡
　　 ＼ヾ丿ノ
　　　 ヽ ﾉ
　　　　)ﾉ
```

### 多重経路復号結果 (エンコーディングアダプターによる解析)

多重経路復号されたファイルはバイナリデータとして扱われ、元のテキストデータのエンコーディングが維持されていません。エンコーディングアダプターを使用した場合の出力：

**multipath_decrypted_1_unknown_20250513_120233.text**:

```
[バイナリデータ: 243バイト] 先頭100バイト: b812a4612189905f73833e9bfc1f4bd51d0baef4b61b9f1fa48cd598343b73b8c1ee8f26b430afa043ce356f63cfbc672c9a33d2c021401126a3859499051b5f72a9d621ab9e59316397a8b1846ec315cbbc03c2d26d28427fad56ec29e44dddd6e06458...
```

**multipath_decrypted_2_unknown_20250513_120233.text**:

```
[バイナリデータ: 243バイト] 先頭100バイト: efd74b0949d1020894195cd8bb814e5a6a9718be443fe9205660648c186938d16121e8f625a9c35e5d27a7b291f68adb194f4cfcbf3a2a004a642dad71e6663e44ccc1b580a05ca9b7074ed188c7f310f6980d715a205fa33f6ec169ed621da2539691f9...
```

## 📑 観察結果

1. **データサイズ増加**: 元のテキストファイル(121 バイト)が暗号化されると大幅に増加(806 バイト)し、復号後は元のサイズよりも大きい(243 バイト)
2. **正規復号の正確性**: 正規鍵による復号は元のテキストを完全に復元
3. **非正規データ**: 非正規鍵では異なるテキスト(ASCII アート)が表示され、これが false.text に対応
4. **多重経路復号の課題**: 多重経路復号のファイルはバイナリデータとなり、テキストとして直接読めない

これらの結果から、単一鍵による暗号化・復号は正常に機能していることが確認できましたが、多重経路復号ではエンコーディング処理に課題があることがわかります。エンコーディングアダプターがこの問題に対処するために実装されています。
