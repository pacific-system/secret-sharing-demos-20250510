準同型暗号マスキング方式 統合テスト開始（security）
日時: 2025年05月14日 18:49:26

テスト設定:
- テストタイプ: security
- 出力ディレクトリ: test_output
- 真のテストファイル: common/true-false-text/t.text
- 偽のテストファイル: common/true-false-text/f.text
- 鍵サイズ: 1024ビット
- チャンクサイズ: 64バイト

## テスト環境情報
- Python バージョン: 3.12.8 (v3.12.8:2dc476bcb91, Dec  3 2024, 14:43:20) [Clang 13.0.0 (clang-1300.0.29.30)]
- OS: posix
- ワーキングディレクトリ: /Users/dev/works/VSCode/secret-sharing-demos-20250510


================================================================================
# セキュリティ特性テスト
================================================================================


## 暗号文識別不能性テスト
[2025-05-14 18:49:26] 暗号化テスト 1/3 を実行...
[2025-05-14 18:49:26] 暗号化ファイル 1 のハッシュ: 6b1410cf8bb109d5...
[2025-05-14 18:49:26] 暗号化テスト 2/3 を実行...
[2025-05-14 18:49:27] 暗号化ファイル 2 のハッシュ: 5cc442acccf2f41e...
[2025-05-14 18:49:27] 暗号化テスト 3/3 を実行...
[2025-05-14 18:49:27] 暗号化ファイル 3 のハッシュ: f79d993cc1ba9c01...
[2025-05-14 18:49:27] 暗号文識別不能性テスト: 合格
[2025-05-14 18:49:27]   3回の暗号化で得られたユニークなハッシュ数: 3

## 鍵解析テスト
[2025-05-14 18:49:27] テスト鍵生成:
[2025-05-14 18:49:27]   真鍵: 8a84ea296967b725...
[2025-05-14 18:49:27]   偽鍵: 0aea685c2f336305...
[2025-05-14 18:49:27] 鍵解析テスト:
[2025-05-14 18:49:27]   真鍵の解析結果: false
[2025-05-14 18:49:27]   偽鍵の解析結果: true
[2025-05-14 18:49:29] 鍵解析結果分布（50サンプル）:
[2025-05-14 18:49:29]   真鍵と判定: 18 (36.0%)
[2025-05-14 18:49:29]   偽鍵と判定: 32 (64.0%)
[2025-05-14 18:49:29]   その他の判定: 0 (0.0%)
[2025-05-14 18:49:29] 鍵解析分布テスト: 不合格
[2025-05-14 18:49:29]   分布バランス: 0.280
[2025-05-14 18:49:29] 鍵分布グラフを保存しました: test_output/security_test/key_distribution_20250514-184926.png

## タイミング攻撃耐性テスト
[2025-05-14 18:49:29] タイミング攻撃耐性テストでエラーが発生しました: 'seed'

================================================================================
# 拡張セキュリティテスト
================================================================================

[2025-05-14 18:49:29] テストファイルを生成しました: test_output/secure_true.txt, test_output/secure_false.txt

## 元の実装での暗号化テスト
[2025-05-14 18:49:29] 元の実装での暗号化時間: 0.033112秒
[2025-05-14 18:49:29] 元の実装での暗号化ファイルサイズ: 3346バイト
[2025-05-14 18:49:29] 元の実装での'true'文字列の含有: True
[2025-05-14 18:49:29] 元の実装での'false'文字列の含有: True

## 改良実装での暗号化テスト
[2025-05-14 18:49:29] 改良実装での暗号化テストでエラーが発生しました: No module named 'method_8_homomorphic.indistinguishable_crypto'
[2025-05-14 18:49:29] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 1392, in perform_improved_encryption
    from method_8_homomorphic.indistinguishable_crypto import encrypt_file_with_dual_keys
ModuleNotFoundError: No module named 'method_8_homomorphic.indistinguishable_crypto'


## 復号時間の比較
[2025-05-14 18:49:29] 元の実装での復号テスト:
[2025-05-14 18:49:29]   trueキーでの復号時間: 0.027064秒
[2025-05-14 18:49:29]   falseキーでの復号時間: 0.027047秒
[2025-05-14 18:49:29] 改良実装での復号テスト:
[2025-05-14 18:49:29] 復号時間比較テストでエラーが発生しました: 'encrypted_file'
[2025-05-14 18:49:29] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 1537, in test_decryption_times
    output_dir = os.path.dirname(improved_results["encrypted_file"])
                                 ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'encrypted_file'


## 比較グラフの生成
[2025-05-14 18:49:29] ファイルサイズ比較グラフを保存しました: test_output/charts/file_size_comparison_20250514-184926.png
[2025-05-14 18:49:29] 処理時間比較グラフを保存しました: test_output/charts/processing_time_comparison_20250514-184926.png

## 暗号方式の比較表
[2025-05-14 18:49:29] | 項目 | 元の実装 | 改良後の実装 |
[2025-05-14 18:49:29] | -|-|- |
[2025-05-14 18:49:29] | 暗号化方式 | Paillier (加法準同型) | Paillier (加法準同型) |
[2025-05-14 18:49:29] | 識別子 | 明示的 ('true'/'false') | 暗号化ハッシュによる難読化 |
[2025-05-14 18:49:29] | チャンク順序 | 固定 | ランダム化 |
[2025-05-14 18:49:29] | マスク方式 | 基本マスク関数 | 高度マスク関数 (オプション) |
[2025-05-14 18:49:29] | 暗号文の一貫性 | 一貫（同一入力で同一出力） | 非一貫（同一入力で異なる出力） |
[2025-05-14 18:49:29] | ソース解析耐性 | 低 | 高 |
[2025-05-14 18:49:29] | タイミング攻撃耐性 | 低〜中 | 中〜高 |
[2025-05-14 18:49:29] | 復号速度 | やや速い | 標準 |

================================================================================
# テスト結果レポートの生成
================================================================================

[2025-05-14 18:49:29] テスト結果レポートを保存しました: test_output/homomorphic_test_report_20250514-184929.md
## テスト完了
- 合計実行時間: 3.03秒
- テスト結果レポート: test_output/homomorphic_test_report_20250514-184929.md
- ログファイル: test_output/homomorphic_test_log_20250514-184926.txt
- 成功したテスト: 0/5
### 一部のテストが失敗しました ❌
