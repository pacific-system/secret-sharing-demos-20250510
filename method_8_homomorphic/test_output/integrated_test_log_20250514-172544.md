準同型暗号マスキング方式 統合テスト開始（all）
日時: 2025年05月14日 17:25:44

テスト設定:
- テストタイプ: all
- 出力ディレクトリ: test_output
- 真のテストファイル: common/true-false-text/t.text
- 偽のテストファイル: common/true-false-text/f.text
- 鍵サイズ: 1024ビット
- チャンクサイズ: 64バイト

## テスト環境情報
- Python バージョン: 3.12.8 (v3.12.8:2dc476bcb91, Dec  3 2024, 14:43:20) [Clang 13.0.0 (clang-1300.0.29.30)]
- OS: posix
- ワーキングディレクトリ: /Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic


================================================================================
# 準同型暗号の基本機能テスト
================================================================================


## テストファイルの読み込み
[2025-05-14 17:25:44] エラーが発生しました: [Errno 2] No such file or directory: 'common/true-false-text/t.text'
[2025-05-14 17:25:44] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 290, in test_basic_homomorphic_functions
    with open(TRUE_TEXT_PATH, 'rb') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'common/true-false-text/t.text'


================================================================================
# マスク関数テスト
================================================================================


## 準同型暗号の初期化
[2025-05-14 17:25:44] 公開鍵生成完了: n=57067324110290877823096745841902134628497879574701400333497397638262023495946810906287165146727978920017378763455671067437563295275149894038640011158562496836757019891735725706671693475348743845183291687271549391943871423375348119967373859635391117976706386517824858968920186002702737456300205870813958239123, g=57067324110290877823096745841902134628497879574701400333497397638262023495946810906287165146727978920017378763455671067437563295275149894038640011158562496836757019891735725706671693475348743845183291687271549391943871423375348119967373859635391117976706386517824858968920186002702737456300205870813958239124

## 基本マスク関数テスト
[2025-05-14 17:25:44] 基本マスク関数を生成しました
[2025-05-14 17:25:44]   真マスク: {'type': 'true_mask', 'params': {'additive': [2149094339, 3087736044, 2979462036, 1858390675], 'multiplicative': [1703206278, 726417156, 2602699567, 3886759615]}, 'seed': 'QixwYp9nj9uThLXShTpD+HxpbE2QKDwf9noIzGnfpLo='}
[2025-05-14 17:25:44]   偽マスク: {'type': 'false_mask', 'params': {'additive': [3099025151, 722137355, 925301715, 3206973543], 'multiplicative': [3352926336, 3022088729, 3916098209, 497305894]}, 'seed': 'QixwYp9nj9uThLXShTpD+HxpbE2QKDwf9noIzGnfpLo='}
[2025-05-14 17:25:44] エラーが発生しました: 'int' object is not iterable
[2025-05-14 17:25:44] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 637, in test_masking_functions
    masked_message_true = basic_mask_gen.apply_mask(encrypted_message, true_mask)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/crypto_mask.py", line 355, in apply_mask
    for i, chunk in enumerate(encrypted_chunks):
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'int' object is not iterable


================================================================================
# セキュリティ特性テスト
================================================================================


## 暗号文識別不能性テスト
[2025-05-14 17:25:44] エラーが発生しました: [Errno 2] No such file or directory: 'common/true-false-text/t.text'
[2025-05-14 17:25:44] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 840, in test_security_features
    with open(TRUE_TEXT_PATH, 'rb') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'common/true-false-text/t.text'


================================================================================
# パフォーマンステスト
================================================================================


## 鍵生成パフォーマンス
[2025-05-14 17:25:44] 512ビット鍵の生成時間を測定...
[2025-05-14 17:25:44]   512ビット鍵の生成時間: 0.016162秒
[2025-05-14 17:25:44] 1024ビット鍵の生成時間を測定...
[2025-05-14 17:25:44]   1024ビット鍵の生成時間: 0.134818秒
[2025-05-14 17:25:44] 2048ビット鍵の生成時間を測定...
[2025-05-14 17:25:45]   2048ビット鍵の生成時間: 0.411551秒

## 暗号化パフォーマンス（サイズ別）
[2025-05-14 17:25:45] 100バイトのデータで暗号化時間を測定...
[2025-05-14 17:25:45]   100バイト暗号化時間: 0.049954秒
[2025-05-14 17:25:45] 1000バイトのデータで暗号化時間を測定...
[2025-05-14 17:25:45]   1000バイト暗号化時間: 0.412112秒
[2025-05-14 17:25:45] 10000バイトのデータで暗号化時間を測定...
[2025-05-14 17:25:49]   10000バイト暗号化時間: 4.094142秒

## 復号パフォーマンス（サイズ別）
[2025-05-14 17:25:54] 100バイトのデータで復号時間を測定...
[2025-05-14 17:25:54]   100バイト復号時間: 0.053995秒
[2025-05-14 17:25:54] 1000バイトのデータで復号時間を測定...
[2025-05-14 17:25:54]   1000バイト復号時間: 0.435813秒
[2025-05-14 17:25:54] 10000バイトのデータで復号時間を測定...
[2025-05-14 17:25:58]   10000バイト復号時間: 4.290426秒

## スケーリング特性
[2025-05-14 17:25:58] 鍵サイズ 512ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 17:25:58]   暗号化時間: 0.039659秒, 復号時間: 0.025487秒
[2025-05-14 17:25:58] 鍵サイズ 1024ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 17:25:59]   暗号化時間: 0.198917秒, 復号時間: 0.177731秒

## パフォーマンスグラフ生成
[2025-05-14 17:25:59] パフォーマンスグラフを保存しました: test_output/performance_test/performance_graph_20250514-172559.png
[2025-05-14 17:25:59] パフォーマンスデータを保存しました: test_output/performance_test/performance_data_20250514-172559.json

================================================================================
# テスト結果レポートの生成
================================================================================

[2025-05-14 17:25:59] エラーが発生しました: division by zero
[2025-05-14 17:25:59] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 1828, in main
    report_file = generate_report(TEST_RESULTS)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 1625, in generate_report
    - 真鍵と判定された割合: {test_results.get('key_analysis', {}).get('details', {}).get('true_count', 0) / (test_results.get('key_analysis', {}).get('details', {}).get('true_count', 0) + test_results.get('key_analysis', {}).get('details', {}).get('false_count', 0) + test_results.get('key_analysis', {}).get('details', {}).get('other_count', 0)) * 100:.1f}%
                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

