準同型暗号マスキング方式 統合テスト開始（all）
日時: 2025年05月14日 16:53:35

テスト設定:
- テストタイプ: all
- 出力ディレクトリ: test_output
- 真のテストファイル: common/true-false-text/t.text
- 偽のテストファイル: common/true-false-text/f.text
- 鍵サイズ: 1024ビット
- チャンクサイズ: 64バイト

## テスト環境情報
- Python バージョン: 3.12.8 (v3.12.8:2dc476bcb91, Dec  3 2024, 14:43:20) [Clang 13.0.0 (clang-1300.0.29.30)]
- OS: posix
- ワーキングディレクトリ: /Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic


================================================================================
# 準同型暗号の基本機能テスト
================================================================================


## テストファイルの読み込み
[2025-05-14 16:53:35] エラーが発生しました: [Errno 2] No such file or directory: 'common/true-false-text/t.text'
[2025-05-14 16:53:35] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 290, in test_basic_homomorphic_functions
    with open(TRUE_TEXT_PATH, 'rb') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'common/true-false-text/t.text'


================================================================================
# マスク関数テスト
================================================================================


## 準同型暗号の初期化
[2025-05-14 16:53:35] 公開鍵生成完了: n=129557528072975595293274740919858286698420229803092376181593862279238720560698901865945463302681437061411077308173353395342885242657831427878298358582516404176984780351698964559083732956680526382189963490062703269427982570541917426682222677530237017094581246156749493015957115159918283118200800023453881192859, g=129557528072975595293274740919858286698420229803092376181593862279238720560698901865945463302681437061411077308173353395342885242657831427878298358582516404176984780351698964559083732956680526382189963490062703269427982570541917426682222677530237017094581246156749493015957115159918283118200800023453881192860

## 基本マスク関数テスト
[2025-05-14 16:53:35] 基本マスク関数を生成しました
[2025-05-14 16:53:35]   真マスク: {'type': 'true_mask', 'params': {'additive': [2773267428, 2353821095, 1740426184, 771745914], 'multiplicative': [21606037, 2776425909, 3097899789, 934641761]}, 'seed': 'c1MhrATwiu9Q+XPGJxAO4goBo3o6oeeOnrnXIxR6Fyg='}
[2025-05-14 16:53:35]   偽マスク: {'type': 'false_mask', 'params': {'additive': [2359949136, 4025191453, 2986808884, 4048304126], 'multiplicative': [3051262157, 1590644384, 1854309628, 3383544535]}, 'seed': 'c1MhrATwiu9Q+XPGJxAO4goBo3o6oeeOnrnXIxR6Fyg='}
[2025-05-14 16:53:35] エラーが発生しました: 'int' object is not iterable
[2025-05-14 16:53:35] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 637, in test_masking_functions
    masked_message_true = basic_mask_gen.apply_mask(encrypted_message, true_mask)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/crypto_mask.py", line 355, in apply_mask
    for i, chunk in enumerate(encrypted_chunks):
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'int' object is not iterable


================================================================================
# セキュリティ特性テスト
================================================================================


## 暗号文識別不能性テスト
[2025-05-14 16:53:35] エラーが発生しました: [Errno 2] No such file or directory: 'common/true-false-text/t.text'
[2025-05-14 16:53:35] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 840, in test_security_features
    with open(TRUE_TEXT_PATH, 'rb') as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'common/true-false-text/t.text'


================================================================================
# パフォーマンステスト
================================================================================


## 鍵生成パフォーマンス
[2025-05-14 16:53:35] 512ビット鍵の生成時間を測定...
[2025-05-14 16:53:35]   512ビット鍵の生成時間: 0.010271秒
[2025-05-14 16:53:35] 1024ビット鍵の生成時間を測定...
[2025-05-14 16:53:35]   1024ビット鍵の生成時間: 0.073749秒
[2025-05-14 16:53:35] 2048ビット鍵の生成時間を測定...
[2025-05-14 16:53:36]   2048ビット鍵の生成時間: 0.508868秒

## 暗号化パフォーマンス（サイズ別）
[2025-05-14 16:53:36] 100バイトのデータで暗号化時間を測定...
[2025-05-14 16:53:36]   100バイト暗号化時間: 0.052140秒
[2025-05-14 16:53:36] 1000バイトのデータで暗号化時間を測定...
[2025-05-14 16:53:36]   1000バイト暗号化時間: 0.406216秒
[2025-05-14 16:53:36] 10000バイトのデータで暗号化時間を測定...
[2025-05-14 16:53:40]   10000バイト暗号化時間: 4.062129秒

## 復号パフォーマンス（サイズ別）
[2025-05-14 16:53:44] 100バイトのデータで復号時間を測定...
[2025-05-14 16:53:45]   100バイト復号時間: 0.053805秒
[2025-05-14 16:53:45] 1000バイトのデータで復号時間を測定...
[2025-05-14 16:53:45]   1000バイト復号時間: 0.428237秒
[2025-05-14 16:53:45] 10000バイトのデータで復号時間を測定...
[2025-05-14 16:53:49]   10000バイト復号時間: 4.226227秒

## スケーリング特性
[2025-05-14 16:53:49] 鍵サイズ 512ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 16:53:49]   暗号化時間: 0.040984秒, 復号時間: 0.026657秒
[2025-05-14 16:53:49] 鍵サイズ 1024ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 16:53:50]   暗号化時間: 0.196284秒, 復号時間: 0.176087秒

## パフォーマンスグラフ生成
[2025-05-14 16:53:50] パフォーマンスグラフを保存しました: test_output/performance_test/performance_graph_20250514-165350.png
[2025-05-14 16:53:50] パフォーマンスデータを保存しました: test_output/performance_test/performance_data_20250514-165350.json

================================================================================
# テスト結果レポートの生成
================================================================================

[2025-05-14 16:53:50] エラーが発生しました: division by zero
[2025-05-14 16:53:50] Traceback (most recent call last):
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 1828, in main
    report_file = generate_report(TEST_RESULTS)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dev/works/VSCode/secret-sharing-demos-20250510/method_8_homomorphic/homomorphic_test.py", line 1625, in generate_report
    - 真鍵と判定された割合: {test_results.get('key_analysis', {}).get('details', {}).get('true_count', 0) / (test_results.get('key_analysis', {}).get('details', {}).get('true_count', 0) + test_results.get('key_analysis', {}).get('details', {}).get('false_count', 0) + test_results.get('key_analysis', {}).get('details', {}).get('other_count', 0)) * 100:.1f}%
                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

