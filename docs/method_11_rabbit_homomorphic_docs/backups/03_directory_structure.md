## 3. ディレクトリ構成と納品物件 📦

```
method_11_rabbit_homomorphic/
│
├── 【納品物件】encrypt.py            # ユーザーが実行する暗号化スクリプト (約 300 行)
│                                    # - CLIインターフェース
│                                    # - パラメータ検証
│                                    # - ファイル操作
│                                    # - 自己診断とログ出力
│
├── 【納品物件】decrypt.py             # ユーザーが実行する復号スクリプト (約 300 行)
│                                    # - CLIインターフェース
│                                    # - パラメータ検証
│                                    # - ファイル操作
│                                    # - 自己診断とログ出力
│
├── core/                            # コアライブラリモジュール
│   │
│   ├── 【納品物件】rabbit_homomorphic.py  # 高レベルAPI実装・統合レイヤー (約 400 行)
│   │                                  # - 暗号化/復号のメインロジック
│   │                                  # - 両暗号方式の融合インターフェース
│   │                                  # - 状態管理と変換制御
│   │                                  # - 内部状態診断とログ出力
│   │
│   ├── 【納品物件】rabbit_stream.py      # 拡張ラビット暗号実装 (約 450 行)
│   │                                  # - RFC4503 拡張実装
│   │                                  # - 多重ストリーム生成機能
│   │                                  # - 準同型互換状態管理
│   │                                  # - 状態診断とログ出力
│   │
│   ├── 【納品物件】homomorphic.py        # 準同型暗号実装 (約 500 行)
│   │                                  # - 格子ベース準同型演算
│   │                                  # - ラビット互換マスキング機能
│   │                                  # - 加法・乗法準同型性
│   │                                  # - 準同型特性検証とログ出力
│   │
│   ├── 【納品物】crypto_adapters.py     # データ変換アダプタ実装 (約 500 行)
│   │                                  # - 各種データ形式処理（UTF8、CSV、JSON、バイナリー）
│   │                                  # - ファイル形式自動判定
│   │                                  # - 多段エンコーディング処理
│   │                                  # - テキスト/バイナリ変換
│   │
│   └── 【納品物】probabilistic.py      # 確率的処理コンポーネント (約 350 行)
│                                      # - 確率的カプセル化
│                                      # - 準同型互換乱数生成
│                                      # - ラビット連動確率経路
│                                      # - 確率分布検証とログ出力
│
├── utils/                            # ユーティリティモジュール
│   │
│   ├── 【納品物】crypto_utils.py        # 暗号化共通ユーティリティ (約 400 行)
│   │                                  # - 統合環境の鍵管理
│   │                                  # - 格子-ストリーム変換
│   │                                  # - 環同型演算支援機能
│   │                                  # - 整合性検証とログ出力
│   │
│   ├── 【納品物】logger.py              # ログ機能実装 (約 200 行)
│   │                                  # - 標準化されたログ形式
│   │                                  # - ログレベル制御
│   │                                  # - 出力先選択機能
│   │                                  # - テスト解析用フォーマット
│   │                                  # - タイムスタンプ付きファイル生成
│   │
│   └── 【納品物】security.py            # セキュリティユーティリティ (約 350 行)
│                                      # - NIST 認定乱数生成器
│                                      # - サイドチャネル対策
│                                      # - 量子攻撃対策
│                                      # - 安全性検証とログ出力
│
├── logs/                              # タイムスタンプ付きログファイル保存ディレクトリ
│   ├── YYYY-MM-DD_HHMMSS/             # 日時別ディレクトリ（自動生成）
│   │   ├── encrypt_XXXXXX.log         # 暗号化処理ログ
│   │   ├── decrypt_XXXXXX.log         # 復号処理ログ
│   │   └── system_XXXXXX.log          # システム全体ログ
│   │
│   └── archives/                      # 長期保存用ログアーカイブ
│
├── output/                            # 検証出力ディレクトリ
│   ├── stats/                         # 統計データ出力（タイムスタンプ付き）
│   │   ├── YYYY-MM-DD_HHMMSS_stream_analysis.json
│   │   └── YYYY-MM-DD_HHMMSS_homomorphic_test.json
│   │
│   ├── visualizations/                # 可視化画像出力（タイムスタンプ付き）
│   │   ├── YYYY-MM-DD_HHMMSS_entropy_graph.png
│   │   └── YYYY-MM-DD_HHMMSS_correlation_matrix.png
│   │
│   └── reports/                       # 検証レポート出力
│       └── YYYY-MM-DD_HHMMSS_security_assessment.pdf
│
└── tests/                             # テスト自動化モジュール（納品物件外）
    │
    ├── test_runner.py                 # テスト実行フレームワーク
    │                                  # - 納品物件の自動実行のみ
    │                                  # - ログ解析によるテスト結果判定
    │                                  # - 納品物件の品質に依存する設計
    │
    ├── test_cases/                    # テストケース定義
    │   ├── encrypt_test_cases.py      # 暗号化テストケース
    │   ├── decrypt_test_cases.py      # 復号テストケース
    │   └── file_format_test_cases.py  # 各種ファイル形式テストケース
    │
    └── test_utils/                    # テスト用ユーティリティ
        ├── log_analyzer.py            # ログ解析ツール
        └── test_fixtures.py           # テスト用フィクスチャ
```
