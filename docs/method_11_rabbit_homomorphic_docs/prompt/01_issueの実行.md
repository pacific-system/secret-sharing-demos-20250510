# ラビット＋準同型マスキング暗号プロセッサ - 実装タスク実行指示

## 📢 タスク実行にあたっての重要指示

### 進行管理

- **全て完了するまでレポートを作成しないでください**。これは非常に重要です。先に報告書を作成し後から実装したり、実装していないことを実装済みと報告することは禁止します。
- 各タスクは独立して 1 つずつ完了させてください。複数のタスクを同時に進行させないでください。
- 問題が発生した場合は、作業を中断し、具体的な問題点を明確に報告してください。

### 実装原則

- ベストプラクティスに反する実装を禁止します。そのようなシナリオになった時は直ちに作業を中断して指示を仰いでください。
- 要件を全て満たした上で実装作業を進めてください。この作業だけを完了させるために既に満たしている要件を犠牲にしたり要件そのものを歪曲しないでください。
- 特定のタスクに明示されている機能「のみ」を実装し、タスク外の機能実装は行わないでください。
- 指定されたディレクトリ構造とファイル名を厳守してください。

### ドキュメント・報告要件

- 問題が発生したら範囲外の事象でもレポートにて報告すること。
- 最終レポートには以下を含めてください：
  - ディレクトリ一覧とファイル配置図（テキスト式）
  - 詳細な実装説明（各機能の動作原理と実装アプローチ）
  - テスト結果と検証内容
  - 発見された課題と解決方法
- デイレクトり構成、ファイル名、パラメータ名などは完全に全てを記述すること。
- mermaid 記法、markdown 形式の表が利用できます。
- ダークモードで見やすい配色で記述してください。

### 技術的制約

- ファイルの行数が 500 行を超える時は、複数ファイルに分割してください。
- ファイルサイズが大きい時は、複数ファイルに分割してください。
- テストファイルの出力先は'test_output'ディレクトリに用意されています。
- 処理能力を超えてしまうのでひとつのファイルに長大な内容を書き込もうとしないこと。

### 禁止事項

- 問題があったときに問題を隠匿するコードを生成してテストを通過させることは厳格に禁止します。
- 復号が正常に行われないトラブルが発生したときに、緊急対応として鍵の種類に応じて事前定義されたテキストをバイパス出力する不正改造を行うことを禁止します。
- バックドアを設置し、あたかも暗号復号が正確に実装され、true/false のテキストも要件通りスイッチできているように見せかける不正実装を禁止します。
- テストコードの改変は絶対に許可されません。テストが失敗する場合は実装を修正してください。

## 🛠️ 要求の完了方法

1. **実装完了条件**をすべて満たし、すべてのテストが通過してから最終レポートを作成してください。
2. 実装レポートは指定された命名規則に従い docs/issue/ディレクトリに保存してください。
3. テスト結果のスクリーンショットを必ず添付し、結果の正確さを証明してください。
4. 完成後は git コマンドでコミットとプッシュを行ってください。
5. イシューコメントとして実装レポートを投稿してください。

## 💻 開発環境に関する情報

- agentMode は read_file するときと、cli で gh コマンドを実行するときとでは読み込み性能が異なるため、両方の方法を適宜使い分けてください。
- タスク文書は全て読み切れない場合があるため、必要に応じて部分的に読み込みながら実装を進めてください。
- コマンド実行時のエラーは慎重に分析し、原因と対策を明確にしてください。

## 📋 前提となる要件仕様

- どちらのキーが「正規」か「非正規」かはシステム上の区別ではなく、使用者の意図によって決まります。
- 「ハニーポット戦略」が実装可能 - 意図的に「正規」鍵を漏洩させて偽情報を信じ込ませることができます。
- 本当に重要な情報を「非正規」側に隠す「リバーストラップ」も設定可能です。
- 製品版ではないため、極力 common でファイルを共有して効率化を図らないでください。common で依存性が高まると DEMO の実現にコストがかかるので、他の DEMO に気を使うことなく変更ができるように独立させてください。
- 攻撃者は暗号化・復号プログラムのソースコードを完全に入手していると仮定します。
- 攻撃者は復号結果が正規の true.text か非正規の false.text かを判別しようと試みます。
- 攻撃者がスクリプト解析しても生成物が正規か非正規か判別できないようにすること。
- 暗号強度は範囲外とし、方式の特性を実現することが最大の目的です（暗号強度は別のフェーズが責務を負います）。
- 鍵情報以外の部分からは判別材料が得られない強靭な仕組みが要件です。
- スクリプトを変更・改造されても、秘密経路の識別は数学的に不可能な設計が要件です。

## 📥 実装作業の開始方法

各タスク（T1 から T18）を順番に実行し、各イシューに従って実装を進めてください。タスク境界を厳守し、各タスクは完全に独立して完了させてください。
