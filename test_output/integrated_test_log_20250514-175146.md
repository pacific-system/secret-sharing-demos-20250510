準同型暗号マスキング方式 統合テスト開始（all）
日時: 2025年05月14日 17:51:46

テスト設定:
- テストタイプ: all
- 出力ディレクトリ: test_output
- 真のテストファイル: common/true-false-text/t.text
- 偽のテストファイル: common/true-false-text/f.text
- 鍵サイズ: 1024ビット
- チャンクサイズ: 64バイト

## テスト環境情報
- Python バージョン: 3.12.8 (v3.12.8:2dc476bcb91, Dec  3 2024, 14:43:20) [Clang 13.0.0 (clang-1300.0.29.30)]
- OS: posix
- ワーキングディレクトリ: /Users/dev/works/VSCode/secret-sharing-demos-20250510


================================================================================
# 準同型暗号の基本機能テスト
================================================================================


## テストファイルの読み込み
[2025-05-14 17:51:46] テストファイル読み込み完了:
[2025-05-14 17:51:46]   真テキストサイズ: 300バイト
[2025-05-14 17:51:46]   偽テキストサイズ: 300バイト

## 暗号化処理
[2025-05-14 17:51:46] 準同型暗号システムを初期化中...
[2025-05-14 17:51:46] 公開鍵生成完了: n=146194011498942584333363528999840795738809140335775330533731414415090296669033418979316301564814699504860043814729811542892667065791568063474217879516669472026601012442823984300157193710779259518002599007678358216290411784408507098699877917495428886855466630249452813708566374945641648353118524900151475721579, g=146194011498942584333363528999840795738809140335775330533731414415090296669033418979316301564814699504860043814729811542892667065791568063474217879516669472026601012442823984300157193710779259518002599007678358216290411784408507098699877917495428886855466630249452813708566374945641648353118524900151475721580
[2025-05-14 17:51:46] 真偽判別用の鍵を生成中...
[2025-05-14 17:51:46] 鍵生成完了:
[2025-05-14 17:51:46]   真鍵: deea8a3475029dbb9b624db04fab6db11e695b3f75a8fbe0688513aef9944163
[2025-05-14 17:51:46]   偽鍵: c77bdfc7be93770aba46dc7033257548a7f562720b2e3b42c15b97ecdc30a83b
[2025-05-14 17:51:46] データを前処理中...
[2025-05-14 17:51:46] 前処理完了:
[2025-05-14 17:51:46]   真データタイプ: text, サイズ: 429バイト
[2025-05-14 17:51:46]   偽データタイプ: text, サイズ: 429バイト
[2025-05-14 17:51:46] チャンク分割完了:
[2025-05-14 17:51:46]   真チャンク数: 7
[2025-05-14 17:51:46]   偽チャンク数: 7
[2025-05-14 17:51:46] 暗号化完了:
[2025-05-14 17:51:46]   真暗号化チャンク数: 7
[2025-05-14 17:51:46]   偽暗号化チャンク数: 7
[2025-05-14 17:51:46] マスク関数を生成中...
[2025-05-14 17:51:46] マスク関数を適用して真偽チャンクを変換中...
[2025-05-14 17:51:46] 暗号文を識別不能な形式に変換中...
[2025-05-14 17:51:46] 暗号化データを保存中: test_output/basic_test/encrypted_20250514-175146.json
[2025-05-14 17:51:46] 暗号化データを保存しました: サイズ=9896バイト

## 真鍵での復号
[2025-05-14 17:51:46] 真鍵用のデータを抽出中...
[2025-05-14 17:51:46] マスクを除去中...
[2025-05-14 17:51:46] 復号中...
[2025-05-14 17:51:46] 真鍵データの後処理中... データタイプ: text
[2025-05-14 17:51:46] 真鍵での復号データを保存中: test_output/basic_test/decrypted_true_20250514-175146.txt

## 偽鍵での復号
[2025-05-14 17:51:46] 偽鍵用のデータを抽出中...
[2025-05-14 17:51:46] マスクを除去中...
[2025-05-14 17:51:47] 復号中...
[2025-05-14 17:51:47] 偽鍵データの後処理中... データタイプ: text
[2025-05-14 17:51:47] 偽鍵での復号データを保存中: test_output/basic_test/decrypted_false_20250514-175146.txt

## 復号結果の検証
[2025-05-14 17:51:47] 真ファイルのハッシュ比較: False
[2025-05-14 17:51:47]   元のハッシュ:   088f5b0bbab0b70a3b992763d4138ad25630fff6853eab15e63602a513139d6a
[2025-05-14 17:51:47]   復号後のハッシュ: 4843711a6f861a387231ea861c4e123ee035d735d87b12c7037622486555eef1
[2025-05-14 17:51:47] 偽ファイルのハッシュ比較: False
[2025-05-14 17:51:47]   元のハッシュ:   b55cd667cee3c8d3b7ba07181912dd974f62b5b9a13a35198a052dcb960bccba
[2025-05-14 17:51:47]   復号後のハッシュ: 225bdec1bb1e00d60b4b4b486beadc30b1e63e06738234c2432773c8c833d0ea
[2025-05-14 17:51:47] テスト結果: 失敗

================================================================================
# マスク関数テスト
================================================================================


## 準同型暗号の初期化
[2025-05-14 17:51:47] 公開鍵生成完了: n=131155521888123298543387835714396125153162737444416691979203537447035081964653835518632362263984982383429661007425617014112897563914631551314793360213307417809954102101643128938167801887908859290772468743058583405343572104429086453676848795665310267774070246711870670869864003130032158277891650353896016319217, g=131155521888123298543387835714396125153162737444416691979203537447035081964653835518632362263984982383429661007425617014112897563914631551314793360213307417809954102101643128938167801887908859290772468743058583405343572104429086453676848795665310267774070246711870670869864003130032158277891650353896016319218

## 基本マスク関数テスト
[2025-05-14 17:51:47] 基本マスク関数を生成しました
[2025-05-14 17:51:47]   真マスク: {'type': 'true_mask', 'params': {'additive': [944418667, 2903066291, 2622722631, 3499256424], 'multiplicative': [1642838451, 2705458672, 889946009, 2870509780]}, 'seed': 'iRO7uC49mg97foIfChUACGZv39T5ZO4Utb2yeh155aE='}
[2025-05-14 17:51:47]   偽マスク: {'type': 'false_mask', 'params': {'additive': [1772638633, 626927792, 1618649635, 1381385226], 'multiplicative': [2902488209, 2143661804, 87069879, 349776563]}, 'seed': 'iRO7uC49mg97foIfChUACGZv39T5ZO4Utb2yeh155aE='}
[2025-05-14 17:51:47] 基本マスクを適用しました
[2025-05-14 17:51:47] 基本マスク関数テスト結果: 成功

## 高度マスク関数テスト
[2025-05-14 17:51:47] 高度マスク関数を生成しました
[2025-05-14 17:51:47] 高度マスクを適用しました
[2025-05-14 17:51:47] 高度マスク関数テスト結果: 成功

## マスクの統計的特性テスト
[2025-05-14 17:51:47] 基本マスクの統計:
[2025-05-14 17:51:47]   加算パラメータ平均: 2194758473.655
[2025-05-14 17:51:47]   加算パラメータ分散: 1.772604890115091e+18
[2025-05-14 17:51:47]   乗算パラメータ平均: 2107509698.32
[2025-05-14 17:51:47]   乗算パラメータ分散: 1.5842898242339779e+18
[2025-05-14 17:51:47] 高度マスクの統計:
[2025-05-14 17:51:47]   加算パラメータ平均: 2270292633.6675
[2025-05-14 17:51:47]   加算パラメータ分散: 1.455305629822483e+18
[2025-05-14 17:51:47]   乗算パラメータ平均: 2176272590.705
[2025-05-14 17:51:47]   乗算パラメータ分散: 1.483592929256659e+18
[2025-05-14 17:51:47] マスク分布グラフを保存しました: test_output/mask_test/mask_distribution_20250514-175146.png
[2025-05-14 17:51:47] 統計的特性テスト結果: 合格

## 準同型特性の保存確認
[2025-05-14 17:51:47] 準同型特性の保存: 成功
[2025-05-14 17:51:47]   期待値: 579
[2025-05-14 17:51:47]   実際の結果: 579

================================================================================
# セキュリティ特性テスト
================================================================================


## 暗号文識別不能性テスト
[2025-05-14 17:51:47] 暗号化テスト 1/3 を実行...
[2025-05-14 17:51:48] 暗号化ファイル 1 のハッシュ: 26c9f1382752868f...
[2025-05-14 17:51:48] 暗号化テスト 2/3 を実行...
[2025-05-14 17:51:48] 暗号化ファイル 2 のハッシュ: 3e179b53f95daad9...
[2025-05-14 17:51:48] 暗号化テスト 3/3 を実行...
[2025-05-14 17:51:48] 暗号化ファイル 3 のハッシュ: 757be54499cedc09...
[2025-05-14 17:51:48] 暗号文識別不能性テスト: 合格
[2025-05-14 17:51:48]   3回の暗号化で得られたユニークなハッシュ数: 3

## 鍵解析テスト
[2025-05-14 17:51:48] テスト鍵生成:
[2025-05-14 17:51:48]   真鍵: 71c8f6327a01b89f...
[2025-05-14 17:51:48]   偽鍵: 27a01e478052f000...
[2025-05-14 17:51:48] 鍵解析テスト:
[2025-05-14 17:51:48]   真鍵の解析結果: false
[2025-05-14 17:51:48]   偽鍵の解析結果: false
[2025-05-14 17:51:50] 鍵解析結果分布（50サンプル）:
[2025-05-14 17:51:50]   真鍵と判定: 19 (38.0%)
[2025-05-14 17:51:50]   偽鍵と判定: 31 (62.0%)
[2025-05-14 17:51:50]   その他の判定: 0 (0.0%)
[2025-05-14 17:51:50] 鍵解析分布テスト: 不合格
[2025-05-14 17:51:50]   分布バランス: 0.240
[2025-05-14 17:51:50] 鍵分布グラフを保存しました: test_output/security_test/key_distribution_20250514-175146.png

## タイミング攻撃耐性テスト
[2025-05-14 17:51:50] タイミング攻撃耐性テストでエラーが発生しました: 'seed'

================================================================================
# パフォーマンステスト
================================================================================


## 鍵生成パフォーマンス
[2025-05-14 17:51:50] 512ビット鍵の生成時間を測定...
[2025-05-14 17:51:50]   512ビット鍵の生成時間: 0.006105秒
[2025-05-14 17:51:50] 1024ビット鍵の生成時間を測定...
[2025-05-14 17:51:50]   1024ビット鍵の生成時間: 0.133890秒
[2025-05-14 17:51:50] 2048ビット鍵の生成時間を測定...
[2025-05-14 17:51:51]   2048ビット鍵の生成時間: 0.704509秒

## 暗号化パフォーマンス（サイズ別）
[2025-05-14 17:51:51] 100バイトのデータで暗号化時間を測定...
[2025-05-14 17:51:51]   100バイト暗号化時間: 0.055521秒
[2025-05-14 17:51:51] 1000バイトのデータで暗号化時間を測定...
[2025-05-14 17:51:51]   1000バイト暗号化時間: 0.443630秒
[2025-05-14 17:51:51] 10000バイトのデータで暗号化時間を測定...
[2025-05-14 17:51:56]   10000バイト暗号化時間: 4.404736秒

## 復号パフォーマンス（サイズ別）
[2025-05-14 17:52:00] 100バイトのデータで復号時間を測定...
[2025-05-14 17:52:01]   100バイト復号時間: 0.058759秒
[2025-05-14 17:52:01] 1000バイトのデータで復号時間を測定...
[2025-05-14 17:52:01]   1000バイト復号時間: 0.468120秒
[2025-05-14 17:52:01] 10000バイトのデータで復号時間を測定...
[2025-05-14 17:52:06]   10000バイト復号時間: 4.734205秒

## スケーリング特性
[2025-05-14 17:52:06] 鍵サイズ 512ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 17:52:06]   暗号化時間: 0.046037秒, 復号時間: 0.029461秒
[2025-05-14 17:52:06] 鍵サイズ 1024ビット, データサイズ 1000バイトのスケーリングテスト...
[2025-05-14 17:52:06]   暗号化時間: 0.208827秒, 復号時間: 0.179530秒

## パフォーマンスグラフ生成
[2025-05-14 17:52:07] パフォーマンスグラフを保存しました: test_output/performance_test/performance_graph_20250514-175206.png
[2025-05-14 17:52:07] パフォーマンスデータを保存しました: test_output/performance_test/performance_data_20250514-175206.json

================================================================================
# テスト結果レポートの生成
================================================================================

[2025-05-14 17:52:07] テスト結果レポートを保存しました: test_output/homomorphic_test_report_20250514-175207.md
## テスト完了
- 合計実行時間: 20.82秒
- テスト結果レポート: test_output/homomorphic_test_report_20250514-175207.md
- 成功したテスト: 2/4
### 一部のテストが失敗しました ❌
