[2025-05-14 14:12:11] ====== 準同型暗号マスキング方式 完全検証テスト 開始 ======
[2025-05-14 14:12:11] ====== 準同型暗号マスキング方式 暗号化テスト ======
[2025-05-14 14:12:11] テストファイルの読み込み: common/true-false-text/t.text, common/true-false-text/f.text
[2025-05-14 14:12:11] テキストファイル読み込み成功:
[2025-05-14 14:12:11]   真テキストサイズ: 300バイト
[2025-05-14 14:12:11]   偽テキストサイズ: 300バイト
[2025-05-14 14:12:11] 真テキスト内容:
[2025-05-14 14:12:11] 　　｡:🌸・｡･ﾟ🌸*.ﾟ｡
　･🌸.🌸.🌼🌸｡:*･.🌼
　.ﾟ🌼.｡;｡🌸.:*🌸.ﾟ｡🌸｡
　:*｡_🌸🌼｡_🌸*･_ﾟ🌸
　　＼ξ　＼　ζ／
　　　∧🎀∧＼ξ
　　（＊･ω･)／
　　c/　つ∀o
　　.しー-Ｊおめでとう～🎉☠️
[2025-05-14 14:12:11] 偽テキスト内容:
[2025-05-14 14:12:11] 　　｡:🌸・｡･ﾟ🌸*.ﾟ｡
　･🌸.🌸.🌼🌸｡:*･.🌼
　.ﾟ🌼.｡;｡🌸.:*🌸.ﾟ｡🌸｡
　:*｡_🌸🌼｡_🌸*･_ﾟ🌸
　　＼ξ　＼　ζ／
　　　∧🎀∧＼ξ
　　（＊･ω･)／
　　c/　つ∀o
　　.しー-Ｊおめでとう～☠️🎉
[2025-05-14 14:12:11] 準同型暗号システムを初期化中...
[2025-05-14 14:12:11] 公開鍵生成完了: n=89741143016310443840192560038819142599345116613885197428360508282248101850016436036982904503505275876055984797521001804601495472132371334308573782926461845628945295825542181890650670558039467115781819288780022986529965016991329553942063645491600277265693046443315951920621214792381680586204176570609366848321, g=89741143016310443840192560038819142599345116613885197428360508282248101850016436036982904503505275876055984797521001804601495472132371334308573782926461845628945295825542181890650670558039467115781819288780022986529965016991329553942063645491600277265693046443315951920621214792381680586204176570609366848322
[2025-05-14 14:12:11] 真偽判別用の鍵を生成中...
[2025-05-14 14:12:11] 鍵生成完了:
[2025-05-14 14:12:11]   真鍵: 87063cd4590875111d5e29f5e24901bfa4700440402e05293b70bd7040de1271
[2025-05-14 14:12:11]   偽鍵: 4b66efb8db24fae9c54e18ec8e16b1d8699b98af39578bc1d3cbfa78d76fbe2c
[2025-05-14 14:12:11] データを前処理中...
[2025-05-14 14:12:11] [DEBUG] 暗号化前: データタイプ=text, サイズ=300バイト
[2025-05-14 14:12:11] [DEBUG] テキストマーカー付加: 305バイト
[2025-05-14 14:12:11] [DEBUG] テキストマーカー付加: 305バイト
[2025-05-14 14:12:11] 前処理完了:
[2025-05-14 14:12:11]   真データタイプ: text, サイズ: 305バイト
[2025-05-14 14:12:11]   偽データタイプ: text, サイズ: 305バイト
[2025-05-14 14:12:11] チャンク分割完了:
[2025-05-14 14:12:11]   真チャンク数: 5
[2025-05-14 14:12:11]   偽チャンク数: 5
[2025-05-14 14:12:11] 暗号化完了:
[2025-05-14 14:12:11]   真暗号化チャンク数: 5
[2025-05-14 14:12:11]   偽暗号化チャンク数: 5
[2025-05-14 14:12:11] マスク関数を生成中...
[2025-05-14 14:12:11] マスク関数を適用して真偽チャンクを変換中...
[2025-05-14 14:12:11] 暗号文を識別不能な形式に変換中...
[2025-05-14 14:12:11] 暗号化データを保存中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 14:12:11] 暗号化データを保存しました: サイズ=7802バイト
[2025-05-14 14:12:11] 元ファイルのハッシュを保存しました: test_output/secure_homomorphic_sha256.txt
[2025-05-14 14:12:11] ====== 準同型暗号マスキング方式 復号テスト (true鍵) ======
[2025-05-14 14:12:11] 暗号化ファイルを読み込み中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 14:12:11] 暗号化ファイル読み込み完了
[2025-05-14 14:12:11] 鍵タイプ: true鍵
[2025-05-14 14:12:11] true鍵用のデータを抽出中...
[2025-05-14 14:12:11] マスクを除去中...
[2025-05-14 14:12:11] 復号中...
[2025-05-14 14:12:11] 復号後データ先頭: b'\x7f\x9b\x04b\xdd\xcd8*\x86@\xef:\x9aC\xff\x14>}j\xf0\x920\xf10\x90\x0e\x04$\xec\xca\ttr[\x90+\xe7\xc8\xf7\xb9\xfa\xb4\x04w\xbb.m>\xc5\xe1'
[2025-05-14 14:12:11] 復号データを保存中: test_output/secure_homomorphic_true.text
[2025-05-14 14:12:11] 復号データを保存しました: サイズ=305バイト
[2025-05-14 14:12:11] 復号データはテキストではありません（バイナリデータ）
[2025-05-14 14:12:11] ====== 準同型暗号マスキング方式 復号テスト (false鍵) ======
[2025-05-14 14:12:11] 暗号化ファイルを読み込み中: test_output/secure_homomorphic_encrypted.json
[2025-05-14 14:12:11] 暗号化ファイル読み込み完了
[2025-05-14 14:12:11] 鍵タイプ: false鍵
[2025-05-14 14:12:11] false鍵用のデータを抽出中...
[2025-05-14 14:12:11] マスクを除去中...
[2025-05-14 14:12:11] 復号中...
[2025-05-14 14:12:11] 復号後データ先頭: b'R^\x8e\x8b\xb4S\xd1\xbb\xcf \xdcixB\n*\xa3a1g\x02\xff\xa4\xf4\xaa[\xd6\x1b\xa5\x11\x9c\xfc\xf4dd}\x0cr\x84\xf6\xaah@L\xba\x974\x8cW\xb3'
[2025-05-14 14:12:11] 復号データを保存中: test_output/secure_homomorphic_false.text
[2025-05-14 14:12:11] 復号データを保存しました: サイズ=305バイト
[2025-05-14 14:12:11] 復号データはテキストではありません（バイナリデータ）
[2025-05-14 14:12:11] 検証結果レポートを作成中...
[2025-05-14 14:12:11] 
====== 準同型暗号マスキング方式 検証結果 ======
[2025-05-14 14:12:11] 元の真ファイルハッシュ: 088f5b0bbab0b70a3b992763d4138ad25630fff6853eab15e63602a513139d6a
[2025-05-14 14:12:11] 復号された真ファイルハッシュ: b8f6705c6d59b716cc09496526671b85c3014eabd5a105cd0ec388018d86c91f
[2025-05-14 14:12:11] 真ファイル一致: 失敗 ❌
[2025-05-14 14:12:11] 元の偽ファイルハッシュ: b55cd667cee3c8d3b7ba07181912dd974f62b5b9a13a35198a052dcb960bccba
[2025-05-14 14:12:11] 復号された偽ファイルハッシュ: da8a1f3094408b4975eb46c49a7d48da4e0e6ad80dfca493eb10b413bb387203
[2025-05-14 14:12:11] 偽ファイル一致: 失敗 ❌
[2025-05-14 14:12:12] 検証結果グラフを保存しました: test_output/secure_homomorphic_verification.png
[2025-05-14 14:12:12] 
❌ 検証失敗: 暗号化または復号化に問題があります。
[2025-05-14 14:12:12]   - 真の鍵による復号で元の真ファイルが得られませんでした。
[2025-05-14 14:12:12]   - 偽の鍵による復号で元の偽ファイルが得られませんでした。
[2025-05-14 14:12:12] 
準同型暗号マスキング方式 完全検証テスト 完了！処理時間: 0.74秒
[2025-05-14 14:12:12] 詳細ログ: test_output/secure_homomorphic_log_20250514_141211.txt
